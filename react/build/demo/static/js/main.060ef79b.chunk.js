(this["webpackJsonppokerwoo-react"]=this["webpackJsonppokerwoo-react"]||[]).push([[0],{263:function(e,t,a){e.exports=a(495)},268:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){e.exports=a.p+"static/media/saarland.a8521e38.ttf"},495:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(14),i=a.n(s),l=(a(268),a(2)),o=a(4),c=a(13),m=a(6),u=a(5),p=a(10),d=a(26),h=a(501),f=a(514),y=a(238),E=a(104),g=a(52),b=a(63),v=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(b.a,{mode:"horizontal",selectedKeys:[this.props.selected],style:{height:"64px",border:"0"}},n.a.createElement(b.a.Item,{key:"/"},n.a.createElement(p.b,{to:"/"},"Dashboard")),n.a.createElement(b.a.Item,{key:"/games"},n.a.createElement(p.b,{to:"/games"},"Games")),n.a.createElement(b.a.Item,{key:"/payments"},n.a.createElement(p.b,{to:"/payments"},"Payments")),n.a.createElement(b.a.Item,{key:"/players"},n.a.createElement(p.b,{to:"/players"},"Players")),n.a.createElement(b.a.Item,{key:"/schedule"},n.a.createElement(p.b,{to:"/schedule"},"Schedule")),n.a.createElement(b.a.Item,{key:"/leaderboards"},n.a.createElement(p.b,{to:"/leaderboards"},"Leaderboards")))}}]),a}(n.a.Component),k=a(142),P=a(227),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=n.a.createElement(b.a,null,n.a.createElement(b.a.Item,null,n.a.createElement(p.b,{to:"/players/"+this.props.profileData.id},"Signed in as",n.a.createElement("br",null),n.a.createElement("b",null,this.props.profileData.name))),n.a.createElement(b.a.Divider,null),n.a.createElement(b.a.Item,null,n.a.createElement(p.b,{to:"/players/profile"},"Edit Profile")),n.a.createElement(b.a.Item,null,n.a.createElement("a",{href:"/accounts/password_change/"},"Change Password")),n.a.createElement(b.a.Item,null,n.a.createElement("a",{href:"/accounts/logout/"},"Sign Out")));return n.a.createElement(k.a,{overlay:e,placement:"bottomRight"},this.props.profileData.avatar?n.a.createElement(P.a,{size:"large",src:this.props.profileData.avatar+"?width=40&height=40"}):n.a.createElement(P.a,{size:"large",style:{color:"#ffffff",backgroundColor:"#ff322b"}},this.props.profileData.name[0]))}}]),a}(n.a.Component),j=a(258),_=a(496),w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).handleBack=r.handleBack.bind(Object(c.a)(r)),e.pageBreadcrumb.forEach((function(e){"object"===typeof e&&(r.backLink=e.link)})),r}return Object(o.a)(a,[{key:"handleBack",value:function(){this.props.history.push(this.backLink)}},{key:"render",value:function(){var e=[];return"object"===typeof this.props.pageBreadcrumb&&(e=this.props.pageBreadcrumb.map((function(e){return"object"===typeof e?n.a.createElement(j.a.Item,{key:e.name},n.a.createElement(p.b,{to:e.link},e.name)):n.a.createElement(j.a.Item,{key:e},e)}))),n.a.createElement("div",null,n.a.createElement(j.a,{style:{margin:"16px 0"}},e),n.a.createElement("div",{className:"site-layout-content"},n.a.createElement(_.a,{extra:this.props.extra,title:this.props.pageTitle,onBack:this.props.customBack?this.props.customBack:!!this.backLink&&this.handleBack}),this.props.children))}}]),a}(n.a.Component),O=a(509),D=a(497),x=a(30),R=a(515),C=a(517),L=a(522),I=a(523),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(p.b,{to:"/players/"+this.props.data.id+"/"},n.a.createElement(D.a,null,this.props.data.avatar?n.a.createElement(P.a,{size:"large",src:this.props.data.avatar+"?width=40&height=40"}):n.a.createElement(P.a,{size:"large",style:{color:"#ffffff",backgroundColor:"#ff322b"}},this.props.data.name[0]),this.props.children))}}]),a}(n.a.Component),B=a(42),Y=a(512),U=a(502),N=a(230),G=a.n(N),F=a(520),M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).getColumnSearchProps=function(e,t,a){return{filterDropdown:function(t){var a=t.setSelectedKeys,s=t.selectedKeys,i=t.confirm,l=t.clearFilters;return n.a.createElement("div",{style:{padding:8}},n.a.createElement(Y.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:s[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(s,i,e)},style:{width:188,marginBottom:8,display:"block"}}),n.a.createElement(D.a,null,n.a.createElement(x.a,{type:"primary",onClick:function(){return r.handleSearch(s,i,e)},icon:n.a.createElement(F.a,null),size:"small",style:{width:90}},"Search"),n.a.createElement(x.a,{onClick:function(){return r.handleReset(l)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return n.a.createElement(F.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}))},render:function(s,i){return r.state.searchedColumn===e?n.a.createElement(t,{data:a?a(i):i},n.a.createElement(G.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[r.state.searchText],autoEscape:!0,textToHighlight:s.toString()})):n.a.createElement(t,{data:a?a(i):i},s)}}},r.handleSearch=function(e,t,a){t(),r.setState({searchText:e[0],searchedColumn:a})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={searchText:"",searchedColumn:""},r}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=[];return this.props.columns.forEach((function(a){a.searchable&&(a=Object(B.a)({},a,{},e.getColumnSearchProps(a.searchable,a.container,a.containerData))),t.push(a)})),n.a.createElement(U.a,{loading:this.props.loading,dataSource:this.props.dataSource,columns:t,rowKey:this.props.rowKey,bordered:this.props.bordered,showSorterTooltip:this.props.showSorterTooltip,pagination:{defaultPageSize:20}})}}]),a}(n.a.Component),z=a(498),V=a(521),A=a(239),W=a.n(A),H=function(){function e(t){Object(l.a)(this,e),this.url="https://demo.pokerwoo.com/api"+t,this.fetchParams={credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":W.a.get("csrftoken")}}}return Object(o.a)(e,[{key:"retrieve",value:function(e){return fetch(this.url,this.fetchParams).then((function(t){return e.onRes?e.onRes(t):t})).then((function(e){return e.json()})).then((function(t){return e.onParse?e.onParse(t):t})).catch((function(t){return e.onError(t)}))}},{key:"partialUpdate",value:function(e){var t=Object(B.a)({},this.fetchParams,{},{method:"PATCH",body:JSON.stringify(e.data)});return fetch(this.url,t).then((function(t){return e.onRes?e.onRes(t):t})).then((function(e){return e.json()})).then((function(t){return e.onParse?e.onParse(t):t})).catch((function(t){return e.onError(t)}))}},{key:"update",value:function(e){var t=Object(B.a)({},this.fetchParams,{},{method:"PUT",body:JSON.stringify(e.data)});return fetch(this.url,t).then((function(t){return e.onRes?e.onRes(t):t})).then((function(e){return e.json()})).then((function(t){return e.onParse?e.onParse(t):t})).catch((function(t){return e.onError(t)}))}},{key:"create",value:function(e){var t=Object(B.a)({},this.fetchParams,{},{method:"POST",body:JSON.stringify(e.data)});return fetch(this.url,t).then((function(t){return e.onRes?e.onRes(t):t})).then((function(e){return e.json()})).then((function(t){return e.onParse?e.onParse(t):t})).catch((function(t){return e.onError(t)}))}},{key:"delete",value:function(e){var t=Object(B.a)({},this.fetchParams,{},{method:"DELETE"});return fetch(this.url,t).then((function(t){return e.onRes?e.onRes(t):t})).catch((function(t){return e.onError(t)}))}}]),e}(),q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).id=e.id,r.resourse=e.resourse,r.onRes=e.onRes,r.deletePlayer=r.deletePlayer.bind(Object(c.a)(r)),r.state={loading:!1},r}return Object(o.a)(a,[{key:"deletePlayer",value:function(){var e=this;this.setState({loading:!0}),new H(this.resourse).delete({onRes:function(t){return 204===t.status?(e.setState({loading:!1}),e.onRes(t,e.id)):Promise.reject(new Error("Unable to delete"))},onError:function(e){O.a.error(e.message)}})}},{key:"render",value:function(){return n.a.createElement(z.a,{placement:"top",title:this.props.confirmMessage,onConfirm:this.deletePlayer,okText:"Yes",cancelText:"No",disabled:this.props.disabled},n.a.createElement(x.a,{disabled:this.props.disabled,icon:n.a.createElement(V.a,null),loading:this.state.loading},this.props.children))}}]),a}(n.a.Component),K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).removePlayer=r.removePlayer.bind(Object(c.a)(r)),r.state={error:null,isLoaded:!1,players:[]},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/players/players/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve player list.")):e},onParse:function(t){e.setState({isLoaded:!0,players:t})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"removePlayer",value:function(e,t){if(204!==e.status)return Promise.reject(new Error("Unable to delete player."));var a=this.state.players;return this.setState({players:a.filter((function(e){return e.id!==t}))}),O.a.success("Player has been deleted"),e}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,r=t.isLoaded,s=t.players,i=["Players"],l=[{title:"Player",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},defaultSortOrder:"ascend",searchable:"name",container:T},{title:"PokerTH Name",dataIndex:"pokerth_name",key:"pokerth_name",sorter:function(e,t){return null===e.pokerth_name&&null===t.pokerth_name?0:null===e.pokerth_name?-1:null===t.pokerth_name?1:e.pokerth_name.localeCompare(t.pokerth_name)},defaultSortOrder:"ascend",responsive:["md"]},{dataIndex:"active",key:"active",render:function(e,t){return n.a.createElement(Z,{status:e,id:t.id})},align:"center",responsive:["md"]},{key:"edit",align:"center",render:function(t){return n.a.createElement(D.a,null,n.a.createElement(p.b,{to:"/players/edit/"+t.id},n.a.createElement(x.a,{disabled:t.user,icon:n.a.createElement(L.a,null)},"Edit")),n.a.createElement(q,{disabled:t.user,id:t.id,resourse:"/players/players/"+t.id+"/",onRes:e.removePlayer,confirmMessage:"Are you sure you want to delete this player?"}))}}];return a?n.a.createElement(w,{pageBreadcrumb:i,pageTitle:"Players"},n.a.createElement(R.a,{type:"error",message:a.message})):n.a.createElement(w,{pageBreadcrumb:i,pageTitle:"Players",extra:[n.a.createElement(p.b,{key:"addplayer",to:"/players/add"},n.a.createElement(x.a,{type:"primary",icon:n.a.createElement(I.a,null)},"Create Player"))]},n.a.createElement(M,{loading:!r,dataSource:s,columns:l,rowKey:"id",bordered:!0}))}}]),a}(n.a.Component),Z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={id:e.id,loading:!1,checked:e.status},r.handleChange=r.handleChange.bind(Object(c.a)(r)),r}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=this;this.setState({loading:!0}),new H("/players/players/"+this.state.id+"/").partialUpdate({data:{active:e},onRes:function(e){return 200!==e.status?Promise.reject(new Error("There was a problem updating the player status.")):e},onParse:function(e){t.setState({loading:!1,checked:e.active})},onError:function(e){t.setState({loading:!1}),O.a.error(e.message)}})}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.checked;return n.a.createElement(C.a,{checkedChildren:"Enabled",unCheckedChildren:"Disabled",checked:a,loading:t,onChange:this.handleChange})}}]),a}(n.a.Component),J=K,X=a(524),$=a(499),Q=a(260),ee=a(74),te=a.n(ee),ae=a(60),re=a.n(ae),ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).removeGame=r.removeGame.bind(Object(c.a)(r)),r.state={error:null,isLoaded:!1,games:[]},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/poker/games/"+this.props.history.location.search).retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve game list.")):e},onParse:function(t){e.setState({isLoaded:!0,games:t.reverse()})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"removeGame",value:function(e,t){if(204!==e.status)return Promise.reject(new Error("Unable to delete game."));var a=this.state.games;return this.setState({games:a.filter((function(e){return e.id!==t}))}),O.a.success("Game has been deleted"),e}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,r=t.isLoaded,s=t.games,i=["Games"],l=[{title:"ID",dataIndex:"id",align:"center"},{title:"Date",dataIndex:"date_played",align:"center",render:function(e){return n.a.createElement(re.a,{format:"DD/MM/YYYY"},e)},sorter:function(e,t){return e.date_played.localeCompare(t.date_played)},defaultSortOrder:"descend"},{title:"No.",dataIndex:"game_number",align:"center",sorter:function(e,t){return e.game_number-t.game_number}},{title:"Stake",dataIndex:"stake",align:"center",responsive:["md"],render:function(e){return n.a.createElement(te.a,{value:e/100,displayType:"text",prefix:"\xa3"})}},{title:"Players",key:"participants",align:"center",responsive:["md"],render:function(t){return n.a.createElement($.a,{placement:"top",content:n.a.createElement(se,{gameid:e.gameid,participants:t.participants})},t.participants.length," ",n.a.createElement(X.a,null))}},{title:"Tables",key:"tables",align:"center",responsive:["md"],render:function(e){return e.tables.length}},{title:"Status",key:"status",align:"center",responsive:["md"],render:function(e){return e.complete?n.a.createElement(Q.a,{color:"success"},"Complete"):n.a.createElement(Q.a,{color:"warning"},"Incomplete")}},{key:"edit",align:"center",render:function(t){return n.a.createElement(D.a,null,n.a.createElement(p.b,{to:"/games/detail/"+t.id},n.a.createElement(x.a,null,"View")),n.a.createElement(q,{id:t.id,resourse:"/poker/games/"+t.id+"/",onRes:e.removeGame,confirmMessage:"Are you sure you want to delete this game?"}))}}];return a?n.a.createElement(w,{pageBreadcrumb:i,pageTitle:"Games"},n.a.createElement(R.a,{type:"error",message:a.message})):n.a.createElement(w,{pageBreadcrumb:i,pageTitle:"Games",extra:[n.a.createElement(p.b,{to:"/games/add",key:"addlink"},n.a.createElement(x.a,{type:"primary",icon:n.a.createElement(I.a,null)},"Create Game"))]},n.a.createElement(M,{loading:!r,dataSource:s,columns:l,rowKey:"id",bordered:!0}))}}]),a}(n.a.Component),se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).gameid=e.gameid,r.state={error:null,isLoaded:!1,participants:e.participants||[],detailedParticipants:[]},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];this.state.participants.forEach((function(a){var r=new H("/players/players/"+a.player_ref+"/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve participant list.")):e},onParse:function(t){var r=e.state.detailedParticipants;r.push(Object(B.a)({},a,{},t)),e.setState({detailedParticipants:r})},onError:function(t){e.setState({isLoaded:!0,error:t})}});t.push(r)})),Promise.all(t).then((function(){e.setState({isLoaded:!0})}))}},{key:"render",value:function(){if(this.state.isLoaded){var e=[];return this.state.detailedParticipants.forEach((function(t){e.push(n.a.createElement(T,{key:t.id,data:t},t.name))})),n.a.createElement(D.a,{direction:"vertical"},e)}return n.a.createElement(y.a,null)}}]),a}(n.a.Component),ie=ne,le=a(259),oe=a(25),ce=a.n(oe),me=a(507),ue=a(504),pe=a(510),de=a(110),he=a(516),fe=a(519),ye=a(83),Ee=a(506),ge=a(508),be=a(518),ve=a(500),ke=ye.a.Option,Pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={error:null,isLoaded:!1,players:[]},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/players/players/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve player list.")):e},onParse:function(t){e.setState({isLoaded:!0,players:t})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"render",value:function(){var e=this;return this.state.error?n.a.createElement(R.a,{type:"error",message:this.state.error.message}):this.state.isLoaded?n.a.createElement(Ee.a,{labelCol:{span:8},wrapperCol:{span:16},onFinish:this.props.onSubmit,onFinishFailed:this.props.onFail,initialValues:this.props.initialValues?this.props.initialValues:{date_played:ce()(),game_number:1,stake:5,place_two_multiplier:0,place_three_multiplier:0,tables:"1",place_two_multiplier_custom:3,place_three_multiplier_custom:3},ref:this.props.formRef},n.a.createElement(Ee.a.Item,{label:"Game Date",name:"date_played",rules:[{required:!0,message:"You must provide a date for the game"}]},n.a.createElement(ge.a,null)),n.a.createElement(Ee.a.Item,{label:"Game Number",name:"game_number",rules:[{required:!0,message:"You must provide a number for the game"}]},n.a.createElement(be.a,{min:1})),n.a.createElement(Ee.a.Item,{label:"Stake",name:"stake",rules:[{required:!0,message:"You must provide a stake for the game"}]},n.a.createElement(be.a,{min:1,formatter:function(e){return"\xa3 ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\xa3\s?|(,*)/g,"")}})),n.a.createElement(Ee.a.Item,{label:"2nd Place Return",name:"place_two_multiplier"},n.a.createElement(ye.a,null,n.a.createElement(ke,{key:"0",value:0},"None"),n.a.createElement(ke,{key:"1",value:1},"Money Back"),n.a.createElement(ke,{key:"2",value:2},"Double Up"),n.a.createElement(ke,{key:"x",value:"x"},"Cusom"))),n.a.createElement(Ee.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.place_two_multiplier!==t.place_two_multiplier}},(function(e){return"x"===(0,e.getFieldValue)("place_two_multiplier")?n.a.createElement(Ee.a.Item,{label:"2nd Place Multiplier",name:"place_two_multiplier_custom"},n.a.createElement(be.a,{min:0})):null})),n.a.createElement(Ee.a.Item,{label:"3nd Place Return",name:"place_three_multiplier"},n.a.createElement(ye.a,null,n.a.createElement(ke,{key:"0",value:0},"None"),n.a.createElement(ke,{key:"1",value:1},"Money Back"),n.a.createElement(ke,{key:"2",value:2},"Double Up"),n.a.createElement(ke,{key:"x",value:"x"},"Cusom"))),n.a.createElement(Ee.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.place_three_multiplier!==t.place_three_multiplier}},(function(e){return"x"===(0,e.getFieldValue)("place_three_multiplier")?n.a.createElement(Ee.a.Item,{label:"3rd Place Multiplier",name:"place_three_multiplier_custom"},n.a.createElement(be.a,{min:0})):null})),this.props.full?n.a.createElement("div",null,n.a.createElement(Ee.a.Item,{label:"Number of tables",name:"tables",rules:[{required:!0,message:"You must provide a number of tables"}]},n.a.createElement(ye.a,{onChange:this.props.changeTables},n.a.createElement(ke,{key:"1",value:"1"},"Single Table"),n.a.createElement(ke,{key:"2x1",value:"2x1"},"Two Tables into Final Table"),n.a.createElement(ke,{key:"3x1",value:"3x1"},"Three Tables into Final Table"),n.a.createElement(ke,{key:"4x1",value:"4x1"},"Four Tables into Final Table"),n.a.createElement(ke,{key:"4x2x1",value:"4x2x1"},"Four Tables into Two into Final Table"))),n.a.createElement(Ee.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.tables!==t.tables}},(function(t){return"1"===(0,t.getFieldValue)("tables")?n.a.createElement(Ee.a.Item,{label:"Players",name:"participants",rules:[{required:!0,message:"You must provide a stake for the game"}]},n.a.createElement(ye.a,{mode:"multiple",placeholder:"Select some Players",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e.state.players.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return e.active?n.a.createElement(ke,{key:e.id,value:e.id},e.name):""})))):null})),n.a.createElement(Ee.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.tables!==t.tables}},(function(t){if("1"!==(0,t.getFieldValue)("tables")){var a=[];return Object.keys(e.props.designations).sort((function(e,t){return parseInt(t)-parseInt(e)})).forEach((function(t){var r=[];e.props.designations[t].forEach((function(t){r.push(n.a.createElement(Se,{players:e.state.players,designation:t,key:t}))})),a.push(n.a.createElement(E.a,{gutter:16,key:t},r))})),a}return null}))):"",n.a.createElement(Ee.a.Item,{wrapperCol:{offset:8,span:16}},n.a.createElement(x.a,{type:"primary",htmlType:"submit",loading:this.props.isSaving},"Save"))):n.a.createElement(y.a,null)}}]),a}(n.a.Component),Se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(g.a,{xs:24,sm:24,md:12},n.a.createElement(ve.a,null,"Table ",this.props.designation),n.a.createElement(Ee.a.Item,{label:"Final"===this.props.designation?"Final Table Players":"Table "+this.props.designation+" Players",name:"participants_"+this.props.designation,rules:"1"===this.props.designation[0]?[{required:!0,message:"You must choose some players for the table."}]:[]},n.a.createElement(ye.a,{mode:"multiple",placeholder:"Select some Players",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.props.players.map((function(e){return e.active?n.a.createElement(ke,{key:e.id,value:e.id},e.name):""})))),"Final"!==this.props.designation?n.a.createElement(Ee.a.Item,{label:"# Players to Progress",name:"progressing_"+this.props.designation,rules:[{required:!0,message:"You must choose some players for the table."}]},n.a.createElement(be.a,{min:1})):"")}}]),a}(n.a.Component),je=a(503),_e=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={showUpload:!e.initialValues||0===e.initialValues.avatar.length},r}return Object(o.a)(a,[{key:"normFile",value:function(e){return Array.isArray(e)?e:e&&e.fileList}},{key:"render",value:function(){var e=this;return n.a.createElement(Ee.a,{labelCol:{span:8},wrapperCol:{span:16},onFinish:this.props.onSubmit,onFinishFailed:this.props.onFail,initialValues:this.props.initialValues?this.props.initialValues:{active:!0},ref:this.props.formRef},n.a.createElement(Ee.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"You must provide a value for the name of the player"},{max:255,message:"No more than 255 characters are permitted"}]},n.a.createElement(Y.a,null)),n.a.createElement(Ee.a.Item,{label:"PokerTH Name",name:"pokerth_name",rules:[{max:255,message:"No more than 255 characters are permitted"}]},n.a.createElement(Y.a,null)),n.a.createElement(Ee.a.Item,{label:"Avatar",name:"avatar",valuePropName:"fileList",getValueFromEvent:this.normFile},n.a.createElement(je.a,{name:"avatarupload",listType:"picture-card",className:"avatar-uploader",action:"https://demo.pokerwoo.com/api/upload/avatar/",accept:"image/*",multiple:!1,withCredentials:!0,onRemove:function(){return e.setState({showUpload:!0})},beforeUpload:function(){return e.setState({showUpload:!1})}},this.state.showUpload?n.a.createElement("div",null,n.a.createElement(I.a,null),n.a.createElement("div",{className:"ant-upload-text"},"Upload")):null)),n.a.createElement(Ee.a.Item,{label:"Payment Link",name:"payment_link",rules:[{max:255,message:"No more than 255 characters are permitted"},{type:"url",message:"You must provide a valid URL for the payment link"}]},n.a.createElement(Y.a,null)),n.a.createElement(Ee.a.Item,{label:"Payment Name",name:"payment_name",rules:[{max:255,message:"No more than 255 characters are permitted"}]},n.a.createElement(Y.a,null)),n.a.createElement(Ee.a.Item,{label:"Bank Account Number",name:"bank_account_number",rules:[{max:30,message:"No more than 30 characters are permitted"}]},n.a.createElement(Y.a,null)),n.a.createElement(Ee.a.Item,{label:"Bank Sort Code",name:"bank_sort_code",rules:[{max:6,message:"No more than 6 characters are permitted"}]},n.a.createElement(Y.a,null)),n.a.createElement(Ee.a.Item,{label:"Enabled",name:"active",valuePropName:"checked",rules:[{type:"boolean"}]},n.a.createElement(C.a,{defaultChecked:!0})),n.a.createElement(Ee.a.Item,{wrapperCol:{offset:8,span:16}},n.a.createElement(x.a,{type:"primary",htmlType:"submit",loading:this.props.isSaving},"Save")))}}]),a}(n.a.Component),we=a(505),Oe=ye.a.Option,De=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).formRef=n.a.createRef(),r.state={addVisible:!1},r}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=[];if(this.props.place&&t.push({key:"place",align:"center",render:function(t){return e.props.places?0===e.props.places[t.id]?"-":t.place:0===t.place?"-":t.place}}),t.push({title:"Player",dataIndex:"name",key:"name",render:function(e,t){return n.a.createElement(T,{key:t.id,data:t},e)}}),this.props.success){var a={};this.props.completedParticipants&&this.props.completedParticipants.forEach((function(e){a[e]=!0})),t.push({key:"success",align:"center",render:function(t){return n.a.createElement(C.a,{key:t.id,id:t.id,checkedChildren:"Progressed",unCheckedChildren:"Eliminated",defaultChecked:a[t.participantId]||t.success,onChange:function(a){return e.props.onSuccess(t,a)}})}})}if(this.props.setPlace&&t.push({key:"setplace",align:"center",render:function(t){return n.a.createElement(be.a,{key:t.id,onChange:function(a){return e.props.onPlace(t,a)}})}}),this.props.setBalance){var r=[];this.props.players.forEach((function(e){e.balance>0&&r.push(n.a.createElement(Oe,{key:e.id,value:e.id},e.name))})),t.push({key:"setbalance",align:"center",render:function(t){return n.a.createElement(be.a,{defaultValue:t.balance/100,key:t.id,formatter:function(e){return"\xa3 ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\xa3\s?|(,*)/g,"")},onChange:function(a){return e.props.onBalance(t,a)}})}},{key:"setpayee",align:"center",render:function(t){return t.balance<0?n.a.createElement(ye.a,{placeholder:"Select a Player",onChange:function(a){return e.props.onPayee(t,a)},defaultValue:t.payee,key:t.id},r):""}})}return this.props.delete&&t.push({key:"remove",align:"center",render:function(t){return n.a.createElement(q,{key:t.id,id:t.id,resourse:e.props.removeResourse+t[e.props.removeKey]+"/",onRes:e.props.removePlayer,confirmMessage:"Are you sure you want to remove this player?"},"Remove")}}),n.a.createElement("div",null,n.a.createElement(E.a,null,n.a.createElement(g.a,{span:12},n.a.createElement("div",{className:"ant-descriptions-title"},this.props.label)),this.props.add&&this.props.validExtraPlayers.length>0?n.a.createElement(g.a,{span:12},n.a.createElement(x.a,{style:{float:"right"},onClick:function(){return e.setState({addVisible:!0})}},"Add Player"),n.a.createElement(we.a,{visible:this.state.addVisible,title:"Add Player",okText:"Add",cancelText:"Cancel",onOk:function(){return e.formRef.current.validateFields().then((function(t){return e.props.addPlayer(t.player)})).then((function(){return e.setState({addVisible:!1})})).then((function(){return e.formRef.current.setFieldsValue({player:null})}))},onCancel:function(){return e.setState({addVisible:!1})}},n.a.createElement(Ee.a,{ref:this.formRef,layout:"vertical",name:"add_form"},n.a.createElement(Ee.a.Item,{name:"player",label:"Player",rules:[{required:!0,message:"You must select a player"}]},n.a.createElement(ye.a,{placeholder:"Choose a player",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.props.validExtraPlayers.map((function(e){return n.a.createElement(Oe,{key:e.id,value:e.id},e.name)}))))))):""),n.a.createElement(U.a,{showHeader:!1,columns:t,dataSource:this.props.players,pagination:!1,bordered:!0,rowKey:"id"}))}}]),a}(n.a.Component),xe=a(17),Re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;if(this.props.isLoaded){var t=[],a={};this.props.tableData.sort((function(e,t){return e.designation.localeCompare(t.designation)})).forEach((function(e){a[e.level]=a[e.level]||[],a[e.level].push(e)}));var r=1;return Object.keys(a).sort((function(e,t){return parseInt(t)-parseInt(e)})).forEach((function(s){var i=[];a[s].forEach((function(t){var a=[],r=[],s=Object(xe.a)(e.props.playerData);s.forEach((function(e){var n=!1;t.participants.forEach((function(t){if(t.game_participant===e.participantId){var r=Object(B.a)({},e);r.tableParticipantId=t.id,r.success=t.success,a.push(r),n=!0}})),!n&&e.active&&e.participantId&&r.push(e)})),i.push(n.a.createElement(g.a,{sm:24,md:12,key:t.id},n.a.createElement(De,{players:a,validExtraPlayers:r,label:t.designation,add:e.props.add,delete:e.props.delete,success:"Final"!==t.designation,completedParticipants:e.props.completedParticipants,onSuccess:function(a,r){return e.props.onSuccess(a,r,t)},addPlayer:function(a){var r;s.forEach((function(e){e.id===a&&(r=e.participantId)})),e.props.addPlayer(t.id,r)},removePlayer:function(a,r){var n;s.forEach((function(e){e.id===r&&(n=e.participantId)})),e.props.removePlayer(a,t.id,n)},removeResourse:e.props.tableResourse+t.id+"/participants/",removeKey:"tableParticipantId"})))})),t.push(n.a.createElement(E.a,{key:s,gutter:16},n.a.createElement(ve.a,null,"Group "+r+" Tables"),i)),r++})),t}return n.a.createElement(y.a,null)}}]),a}(n.a.Component),Ce=Y.a.TextArea,Le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(Ee.a,{labelCol:{span:8},wrapperCol:{span:16},onFinish:this.props.onSubmit,onFinishFailed:this.props.onFail,initialValues:this.props.initialValues?this.props.initialValues:{schedule_date:ce()(ce()().format("YYYY-MM-DD")+" 19:30:00","YYYY-MM-DD HH:mm:ss")},ref:this.props.formRef},n.a.createElement(Ee.a.Item,{label:"Date",name:"schedule_date",rules:[{required:!0,message:"You must provide a value for the date"}]},n.a.createElement(ge.a,{showTime:{minuteStep:15},format:"DD/MM/YYYY HH:mm"})),n.a.createElement(Ee.a.Item,{label:"Description",name:"description"},n.a.createElement(Ce,{rows:4})),n.a.createElement(Ee.a.Item,{wrapperCol:{offset:8,span:16}},n.a.createElement(x.a,{type:"primary",htmlType:"submit",loading:this.props.isSaving},"Save")))}}]),a}(n.a.Component),Ie=a(105),Te=a(525),Be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={error:null,isLoaded:!1,empty:!1,stats:{}},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/poker/stats/?player_ref="+this.props.profileData.id).retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve stats list.")):e},onParse:function(t){t.length>0?e.setState({isLoaded:!0,stats:t[0]}):e.setState({isLoaded:!0,empty:!0})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"render",value:function(){return this.state.error?n.a.createElement(R.a,{type:"error"},this.state.error.message):this.state.isLoaded?n.a.createElement(ue.a,{title:"Game Statistics",extra:[n.a.createElement(p.b,{key:"leaderboard",to:"/leaderboards"},n.a.createElement(x.a,{icon:n.a.createElement(Te.a,null)},"View Leaderboards"))]},this.state.empty?n.a.createElement(Ie.a,null):n.a.createElement(E.a,{gutter:[16,16]},n.a.createElement(g.a,{span:12},n.a.createElement(pe.a,{title:"Games Played",value:this.state.stats.games_played})),n.a.createElement(g.a,{span:12},n.a.createElement(pe.a,{title:"Score",value:this.state.stats.score})),n.a.createElement(g.a,{span:12},n.a.createElement(pe.a,{title:"Games Won",value:this.state.stats.games_won})),n.a.createElement(g.a,{span:12},n.a.createElement(pe.a,{title:"Times Placed",value:this.state.stats.times_placed})),n.a.createElement(g.a,{span:12},n.a.createElement(pe.a,{title:"Win Rate",suffix:"%",precision:2,value:100*this.state.stats.win_rate})),n.a.createElement(g.a,{span:12},n.a.createElement(pe.a,{title:"Place Rate",suffix:"%",precision:2,value:100*this.state.stats.place_rate})),n.a.createElement(g.a,{span:12},n.a.createElement(pe.a,{title:"Net Winnings",prefix:"\xa3",precision:2,value:this.state.stats.net_winnings/100})),n.a.createElement(g.a,{span:12},n.a.createElement(pe.a,{title:"Gain per Game",prefix:"\xa3",precision:2,value:this.state.stats.gain_per_game/100})),n.a.createElement(g.a,{span:12},n.a.createElement(pe.a,{title:"Avg Rating",value:this.state.stats.average_rating,precision:2})),n.a.createElement(g.a,{span:12},n.a.createElement(pe.a,{title:"Avg. Placing",value:this.state.stats.average_placing,precision:2})))):n.a.createElement(y.a,null)}}]),a}(n.a.Component),Ye=a(526),Ue=a(527),Ne=me.a.Paragraph,Ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={error:null,isLoaded:!1,players:[]},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/players/players/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve player list.")):e},onParse:function(t){e.setState({isLoaded:!0,players:t})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"render",value:function(){var e=["Dashboard"],t="Hi "+this.props.profileData.name+"!";return this.state.error?n.a.createElement(w,{pageBreadcrumb:e,pageTitle:t,history:this.props.history},n.a.createElement(R.a,null,this.state.error.message)):this.state.isLoaded?n.a.createElement(w,{pageBreadcrumb:e,pageTitle:t,history:this.props.history,extra:[n.a.createElement(p.b,{key:"editprofile",to:"/players/profile"},n.a.createElement(x.a,{icon:n.a.createElement(L.a,null)},"Edit Profile"))]},n.a.createElement(E.a,{gutter:[16,16]},n.a.createElement(g.a,{sm:24,md:12},n.a.createElement(Me,{profileData:this.props.profileData,players:this.state.players,history:this.props.history})),n.a.createElement(g.a,{sm:24,md:12},n.a.createElement(Ve,{profileData:this.props.profileData,players:this.state.players,history:this.props.history})),n.a.createElement(g.a,{sm:24,md:12},n.a.createElement(Be,{profileData:this.props.profileData,history:this.props.history})),n.a.createElement(g.a,{sm:24,md:12},n.a.createElement(ze,{profileData:this.props.profileData,players:this.state.players,history:this.props.history})))):n.a.createElement(y.a,null,n.a.createElement(w,{pageBreadcrumb:e,pageTitle:t,history:this.props.history}))}}]),a}(n.a.Component),Fe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return a}(Object(le.a)(Error)),Me=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).reply=r.reply.bind(Object(c.a)(r)),r.state={error:null,isLoaded:!1,empty:!1,sessionData:{},otherPlayers:[]},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/schedule/next/").retrieve({onRes:function(e){return 404===e.status?Promise.reject(new Fe("No schedule found")):200!==e.status?Promise.reject(new Error("Unable to retrieve schedule list.")):e},onParse:function(t){var a,r=[];t.players.forEach((function(t){t.player_ref===e.props.profileData.id?a=t:t.attendance&&e.props.players.forEach((function(e){t.player_ref===e.id&&r.push(e)}))})),a?e.setState({isLoaded:!0,sessionData:t,myAttendance:a,otherPlayers:r}):e.setState({isLoaded:!0,sessionData:t,otherPlayers:r})},onError:function(t){t instanceof Fe?e.setState({isLoaded:!0,empty:!0}):e.setState({isLoaded:!0,error:t})}})}},{key:"reply",value:function(e){var t=this,a=e.target.value;if(this.state.myAttendance){var r="/schedule/sessions/"+this.state.sessionData.id+"/players/"+this.state.myAttendance.id+"/";"X"===a?new H(r).delete({onRes:function(e){if(204!==e.status)return Promise.reject(new Error("Unable to change attendance"));t.setState({myAttendance:null}),O.a.success("Attendance changed")},onError:function(e){O.a.error(e.message)}}):new H(r).partialUpdate({data:{attendance:"Y"===a},onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to change attendance")):e},onParse:function(e){t.setState({myAttendance:e}),O.a.success("Attendance changed")},onError:function(e){O.a.error(e.message)}})}else"Y"!==a&&"N"!==a||new H("/schedule/sessions/"+this.state.sessionData.id+"/players/").create({data:{player_ref:this.props.profileData.id,attendance:"Y"===a},onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to change attendance")):e},onParse:function(e){t.setState({myAttendance:e}),O.a.success("Attendance changed")},onError:function(e){O.a.error(e.message)}})}},{key:"render",value:function(){var e,t=this;return this.state.error?n.a.createElement(R.a,{type:"error"},this.state.error.message):this.state.isLoaded?this.state.empty?n.a.createElement(ue.a,{title:"Next Session",extra:[n.a.createElement(p.b,{key:"sessions",to:"/schedule/add"},n.a.createElement(x.a,{icon:n.a.createElement(Ye.a,null)},"Schedule Session"))]},n.a.createElement(Ne,null,"There are currently no upcoming scheduled sessions."),n.a.createElement(p.b,{to:"/schedule/add"},n.a.createElement(x.a,{icon:n.a.createElement(I.a,null)},"Create One"))):(this.props.players.forEach((function(a){t.state.sessionData.createdby_player===a.id&&(e=a)})),n.a.createElement(ue.a,{title:"Next Session",extra:[n.a.createElement(p.b,{key:"sessions",to:"/schedule/add"},n.a.createElement(x.a,{icon:n.a.createElement(Ye.a,null)},"Schedule Game"))]},n.a.createElement(E.a,{gutter:16},n.a.createElement(g.a,{span:12},n.a.createElement(E.a,{gutter:[0,16]},n.a.createElement(g.a,{span:24},n.a.createElement(pe.a,{title:"The next scheduled session is at",value:ce()(this.state.sessionData.schedule_date).format("DD/MM/YYYY"),suffix:ce()(this.state.sessionData.schedule_date).format("HH:mm")})),n.a.createElement(g.a,{span:24},n.a.createElement(pe.a,{formatter:function(t){return n.a.createElement(T,{data:e},t)},valueStyle:{fontSize:14},title:"Suggested By",value:e.name})))),n.a.createElement(g.a,{span:12},n.a.createElement(E.a,{gutter:[0,16]},n.a.createElement(g.a,{span:24},n.a.createElement("div",{className:"ant-statistic-title"},"Are you going to play?"),n.a.createElement("div",{className:"ant-statistic-content"},n.a.createElement(de.default.Group,{buttonStyle:"solid",defaultValue:this.state.myAttendance?this.state.myAttendance.attendance?"Y":"N":"X",onChange:this.reply},n.a.createElement(de.default.Button,{value:"Y"},"Yes"),n.a.createElement(de.default.Button,{value:"N"},"No"),n.a.createElement(de.default.Button,{value:"X"},"Maybe")))),this.state.otherPlayers.length?n.a.createElement(g.a,{span:24},n.a.createElement("div",{className:"ant-statistic-title"},"Other Confirmed Players"),n.a.createElement("div",{className:"ant-statistic-content"},n.a.createElement(D.a,null,this.state.otherPlayers.map((function(e){return n.a.createElement(T,{key:e.id,data:e})}))))):""))))):n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(g.a,{span:24})))}}]),a}(n.a.Component),ze=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={error:null,isLoaded:!1,games:[]},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/poker/games/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve game list.")):e},onParse:function(t){e.setState({isLoaded:!0,games:t})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"render",value:function(){if(this.state.error)return n.a.createElement(R.a,{type:"error"},this.state.error.message);if(this.state.isLoaded){var e={};return this.state.games.forEach((function(t){e[t.date_played]=(e[t.date_played]||0)+1})),n.a.createElement(ue.a,{title:"Recent Games",extra:[n.a.createElement(p.b,{key:"creategame",to:"/games/add"},n.a.createElement(x.a,{icon:n.a.createElement(I.a,null)},"Create Game"))]},n.a.createElement(he.a,{dateFullCellRender:function(t){return e[t.format("YYYY-MM-DD")]?n.a.createElement(p.b,{to:"/games?date_played="+t.format("YYYY-MM-DD")},n.a.createElement("div",{className:"ant-picker-cell-inner ant-picker-calendar-date"},n.a.createElement("div",{className:"ant-picker-calendar-date-value"},t.format("DD")),n.a.createElement("div",{className:"ant-picker-calendar-date-content"}," ",n.a.createElement(fe.a,{status:"success",text:e[t.format("YYYY-MM-DD")]+" Games"})))):n.a.createElement("div",{className:"ant-picker-cell-inner ant-picker-calendar-date"},n.a.createElement("div",{className:"ant-picker-calendar-date-value"},t.format("DD")),n.a.createElement("div",{className:"ant-picker-calendar-date-content"}))}}),",")}return n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(g.a,{span:24})))}}]),a}(n.a.Component),Ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={error:null,isLoaded:!1,payeePayments:[],payerPayments:[]},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/players/payment_obligation/?payee="+this.props.profileData.id).retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve payee list.")):e},onParse:function(t){new H("/players/payment_obligation/?payer="+e.props.profileData.id).retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve payer list.")):e},onParse:function(a){e.setState({isLoaded:!0,payeePayments:t,payerPayments:a})},onError:function(t){e.setState({isLoaded:!0,error:t})}})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"render",value:function(){if(this.state.error)return n.a.createElement(R.a,{type:"error"},this.state.error.message);if(this.state.isLoaded){var e=0,t=0;return this.state.payerPayments.forEach((function(t){t.payment_confirmed||t.payment_sent||(e+=t.payment_amount)})),this.state.payeePayments.forEach((function(e){e.payment_confirmed||e.payment_sent||(t+=e.payment_amount)})),n.a.createElement(ue.a,{title:"Payment Overview",extra:[n.a.createElement(p.b,{key:"leaderboard",to:"/payments/add"},n.a.createElement(x.a,{icon:n.a.createElement(Ue.a,null)},"Request Payment"))]},n.a.createElement(E.a,{gutter:[16,16]},n.a.createElement(g.a,{span:12},n.a.createElement(pe.a,{title:"Total to pay",prefix:"\xa3",value:e/100}),n.a.createElement(p.b,{to:"/payments?mine=payer"},"View Breakdown")),n.a.createElement(g.a,{span:12},n.a.createElement(pe.a,{title:"Total to be paid",prefix:"\xa3",value:t/100}),n.a.createElement(p.b,{to:"/payments?mine=payee"},"View Breakdown")),n.a.createElement(g.a,{span:12})))}return n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(g.a,{span:24})))}}]),a}(n.a.Component),Ae=Ge,We={games_played:"Games Played",score:"Score",games_won:"Games Won",times_placed:"Times Placed",win_rate:"Win Rate",place_rate:"Place Rate",net_winnings:"Net Winnings",gain_per_game:"Gain per Game",average_rating:"Avg Rating",average_placing:"Avg Placing"},He=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).createBoardData=r.createBoardData.bind(Object(c.a)(r)),r.changeBoard=r.changeBoard.bind(Object(c.a)(r)),r.state={error:null,isLoaded:!1,activeBoard:"score",stats:[],players:[],leaderData:[]},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/players/players/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve stats list.")):e},onParse:function(t){new H("/poker/stats/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve stats list.")):e},onParse:function(a){var r=e.createBoardData(a,t,e.state.activeBoard);e.setState({isLoaded:!0,stats:a,players:t,leaderData:r})},onError:function(t){console.error(t),e.setState({isLoaded:!0,error:t})}})},onError:function(t){console.error(t),e.setState({isLoaded:!0,error:t})}})}},{key:"createBoardData",value:function(e,t,a){var r=[];e.sort((function(e,t){return t[a]-e[a]}));var n=1;return e.forEach((function(e){var s;t.forEach((function(t){t.id===e.player_ref&&(s=t)})),r.push({currency:"net_winnings"===a||"gain_per_game"===a,percentage:"win_rate"===a||"place_rate"===a,rank:n,playerName:s.name,player:s,dataPoint:e[a]}),n++})),r}},{key:"changeBoard",value:function(e){var t=this.createBoardData(this.state.stats,this.state.players,e.key);this.setState({leaderData:t,activeBoard:e.key})}},{key:"render",value:function(){if(this.state.error)return n.a.createElement(R.a,{type:"error"},this.state.error.message);var e=[{title:"Rank",dataIndex:"rank",sorter:function(e,t){return e.rank-t.rank},defaultSortOrder:"ascend"},{title:"Player",dataIndex:"playerName",render:function(e,t){return n.a.createElement(T,{data:t.player},e)}},{title:We[this.state.activeBoard],dataIndex:"dataPoint",render:function(e,t){if(t.currency){var a=parseFloat(e);return a/=100,n.a.createElement(te.a,{value:a.toFixed(2),displayType:"text",prefix:"\xa3"})}if(t.percentage){var r=parseFloat(e);return(r*=100).toFixed(2)+" %"}return e}}];return n.a.createElement(w,{pageBreadcrumb:["Leaderboards"],pageTitle:"Leaderboards"},n.a.createElement(b.a,{selectedKeys:[this.state.activeBoard],onClick:this.changeBoard,mode:"horizontal"},n.a.createElement(b.a.Item,{key:"score"},"Score"),n.a.createElement(b.a.Item,{key:"games_played"},"Games Played"),n.a.createElement(b.a.Item,{key:"games_won"},"Games Won"),n.a.createElement(b.a.Item,{key:"times_placed"},"Times Placed"),n.a.createElement(b.a.Item,{key:"win_rate"},"Win Rate"),n.a.createElement(b.a.Item,{key:"place_rate"},"Place Rate"),n.a.createElement(b.a.Item,{key:"net_winnings"},"Net Winnings"),n.a.createElement(b.a.Item,{key:"gain_per_game"},"Gain per Game"),n.a.createElement(b.a.Item,{key:"average_rating"},"Avg Rating"),n.a.createElement(b.a.Item,{key:"average_placing"},"Avg Placing")),n.a.createElement(M,{loading:!this.state.isLoaded,dataSource:this.state.leaderData,columns:e,rowKey:"rank",showSorterTooltip:!1,bordered:!0}))}}]),a}(n.a.Component),qe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).formRef=n.a.createRef(),r.onSubmit=r.onSubmit.bind(Object(c.a)(r)),r.state={isSaving:!1},r}return Object(o.a)(a,[{key:"onSubmit",value:function(e){var t=this;this.setState({isSaving:!0}),new H("/players/players/").create({data:e,onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to create player.")):e},onParse:function(){t.setState({isSaving:!1}),t.props.history.push("/players"),O.a.success("Player has been created")},onError:function(e){t.setState({isSaving:!1}),O.a.error(e.message)}})}},{key:"render",value:function(){return n.a.createElement(w,{pageBreadcrumb:[{name:"Players",link:"/players"},"Create Player"],pageTitle:"Create Player",history:this.props.history},n.a.createElement(_e,{formRef:this.formRef,onSubmit:this.onSubmit,isSaving:this.state.isSaving}))}}]),a}(n.a.Component),Ke=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).formRef=n.a.createRef(),r.onSubmit=r.onSubmit.bind(Object(c.a)(r)),r.id=e.playerId||e.match.params.playerid,r.state={isLoaded:!1,playerData:{},isSaving:!1},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/players/players/"+this.id+"/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve player.")):e},onParse:function(t){if(t.avatar?t.avatar=[{thumburl:t.avatar,url:t.avatar,uid:1}]:t.avatar=[],t.user&&!e.props.allowEditUser)return Promise.reject(new Error("Cannot edit another user."));e.setState({isLoaded:!0,playerData:t})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"onSubmit",value:function(e){var t=this;if(this.setState({isSaving:!0}),e.avatar.length>0){var a=e.avatar[0].response.url;e.avatar=a}else delete e.avatar;new H("/players/players/"+this.id+"/").update({data:e,onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to update player.")):e},onParse:function(e){t.setState({isSaving:!1}),t.props.history.push("/players"),t.id===t.props.profileData.id&&t.props.updateProfile(e),O.a.success("Player has been updated")},onError:function(e){t.setState({isSaving:!1}),O.a.error(e.message)}})}},{key:"render",value:function(){var e=[{name:"Players",link:"/players"},"Edit Player"],t="Edit Player";return this.state.isLoaded?this.state.error?n.a.createElement(w,{pageBreadcrumb:e,pageTitle:t,history:this.props.history},n.a.createElement(R.a,{type:"error",message:this.state.error.message})):n.a.createElement(w,{pageBreadcrumb:e,pageTitle:t,history:this.props.history},n.a.createElement(_e,{formRef:this.formRef,onSubmit:this.onSubmit,isSaving:this.state.isSaving,initialValues:this.state.playerData})):n.a.createElement(w,{pageBreadcrumb:e,pageTitle:t,history:this.props.history},n.a.createElement(y.a,null))}}]),a}(n.a.Component),Ze=Object(d.f)(Ke),Je=a(513),Xe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={isLoaded:!1,playerData:{}},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.playerid;new H("/players/players/"+t+"/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve player.")):e},onParse:function(t){e.setState({isLoaded:!0,playerData:t})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"render",value:function(){var e=this;if(this.state.isLoaded){var t=[{name:"Players",link:"/players"},this.state.playerData.name],a=n.a.createElement(D.a,null,this.state.playerData.avatar?n.a.createElement(P.a,{size:"large",src:this.state.playerData.avatar+"?width=40&height=40"}):n.a.createElement(P.a,{size:"large",style:{color:"#ffffff",backgroundColor:"#ff322b"}},this.state.playerData.name[0]),this.state.playerData.name),r=!1;["payment_link","payment_name","bank_account_number","bank_sort_code"].forEach((function(t){e.state.playerData[t]&&(r=!0)}));var s=n.a.createElement(Je.a,{bordered:!0,title:"Payment Info",column:{xs:1,sm:2}},this.state.playerData.payment_link?n.a.createElement(Je.a.Item,{label:"Payment Link"},this.state.playerData.payment_link):"",this.state.playerData.payment_name?n.a.createElement(Je.a.Item,{label:"Payment Name"},this.state.playerData.payment_name):"",this.state.playerData.bank_account_number?n.a.createElement(Je.a.Item,{label:"Bank Account No"},this.state.playerData.bank_account_number):"",this.state.playerData.bank_sort_code?n.a.createElement(Je.a.Item,{label:"Bank Sort Code"},this.state.playerData.bank_sort_code):""),i=[n.a.createElement(q,{id:this.state.playerData.id,key:"deletebutton",resourse:"/players/players/"+this.state.playerData.id+"/",onRes:function(){O.a.success("Game has been deleted"),e.props.history.push("/players")},confirmMessage:"Are you sure you want to delete this player?"},"Delete Player")];return this.state.playerData.user||i.push(n.a.createElement(p.b,{key:"editlink",to:"/players/edit/"+this.state.playerData.id},n.a.createElement(x.a,{icon:n.a.createElement(L.a,null)},"Edit Player"))),this.state.playerData.id===this.props.profileData.id&&i.push(n.a.createElement(p.b,{key:"editlink",to:"/players/profile"},n.a.createElement(x.a,{icon:n.a.createElement(L.a,null)},"Edit Profile"))),n.a.createElement(w,{pageBreadcrumb:t,pageTitle:a,history:this.props.history,extra:i},n.a.createElement(E.a,{gutter:16},this.state.playerData.avatar?n.a.createElement(g.a,{sm:24,md:12},n.a.createElement("img",{src:this.state.playerData.avatar+"?width=500",style:{padding:"30px",maxHeight:"300px",marginLeft:"auto",marginRight:"auto",display:"block"},alt:"Avatar"})):null,n.a.createElement(g.a,{sm:24,md:12},n.a.createElement(Je.a,{bordered:!0,title:"Player Info",column:{xs:1,sm:2}},n.a.createElement(Je.a.Item,{label:"Name"},this.state.playerData.name),this.state.playerData.pokerth_name?n.a.createElement(Je.a.Item,{label:"PokerTH Name"},this.state.playerData.pokerth_name):"",n.a.createElement(Je.a.Item,{label:"Status"},this.state.playerData.active?n.a.createElement(Q.a,{color:"success"},"Enabled"):n.a.createElement(Q.a,{color:"error"},"Disabled"))),n.a.createElement("br",null),r?s:""),n.a.createElement(g.a,{sm:24,md:12},n.a.createElement(Be,{profileData:this.state.playerData,history:this.props.history}))))}return n.a.createElement(y.a,null,n.a.createElement(w,{pageBreadcrumb:[{name:"Players",link:"/players"},"Profile"],pageTitle:"Profile",history:this.props.history}))}}]),a}(n.a.Component),$e=Object(d.f)(Xe),Qe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).formRef=n.a.createRef(),r.onSubmit=r.onSubmit.bind(Object(c.a)(r)),r.changeTables=r.changeTables.bind(Object(c.a)(r)),r.state={designations:{},isSaving:!1},r}return Object(o.a)(a,[{key:"onSubmit",value:function(e){var t=this,a={date_played:e.date_played.format("YYYY-MM-DD"),game_number:e.game_number,stake:100*e.stake,place_two_multiplier:e.place_two_multiplier,place_three_multiplier:e.place_three_multiplier};"x"===a.place_two_multiplier&&(a.place_two_multiplier=e.place_two_multiplier_custom),"x"===a.place_three_multiplier&&(a.place_three_multiplier=e.place_three_multiplier_custom),this.setState({isSaving:!0}),new H("/poker/games/").create({data:a,onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to create game")):e},onParse:function(a){var r=a.id;if("1"!==e.tables){var n={},s=[];Object.keys(t.state.designations).forEach((function(a){t.state.designations[a].forEach((function(t){e["participants_"+t]&&e["participants_"+t].forEach((function(e){n[e]||(s.push(e),n[e]=1)}))}))}));var i={},l=[];s.forEach((function(e){l.push(new H("/poker/games/"+r+"/participants/").create({data:{player_ref:e},onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to add participants to game")):e},onParse:function(t){var a=t.id;i[e]=a},onError:function(e){t.setState({isSaving:!1}),O.a.error(e.message)}}))})),Promise.all(l).then((function(){var a=[];Object.keys(t.state.designations).forEach((function(n){t.state.designations[n].forEach((function(s){a.push(new H("/poker/games/"+r+"/tables/").create({data:{designation:s,progressing:e["progressing_"+s],level:n},onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to create table")):e},onParse:function(a){var n=a.id;if(e["participants_"+s]){var l=[];e["participants_"+s].forEach((function(e){if(i[e]){var a=i[e];l.push(new H("/poker/games/"+r+"/tables/"+n+"/participants/").create({data:{game_participant:a},onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to add participants to table")):e},onError:function(e){t.setState({isSaving:!1}),O.a.error(e.message)}}))}}))}},onError:function(e){t.setState({isSaving:!1}),O.a.error(e.message)}}))}))})),Promise.all(a).then((function(){t.setState({isSaving:!1}),t.props.history.push("/games/detail/"+r),O.a.success("Game has been created")}))}))}else new H("/poker/games/"+r+"/tables/").create({data:{designation:"Final"},onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to create table")):e},onParse:function(a){var n=a.id,s=[];e.participants.forEach((function(e){s.push(new H("/poker/games/"+r+"/participants/").create({data:{player_ref:e},onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to add participants to game")):e},onParse:function(e){var t=e.id;new H("/poker/games/"+r+"/tables/"+n+"/participants/").create({data:{game_participant:t}})},onError:function(e){t.setState({isSaving:!1}),O.a.error(e.message)}}))})),Promise.all(s).then((function(){t.setState({isSaving:!1}),t.props.history.push("/games/detail/"+r),O.a.success("Game has been created")}))},onError:function(e){t.setState({isSaving:!1}),O.a.error(e.message)}})},onError:function(e){t.setState({isSaving:!1}),O.a.error(e.message)}})}},{key:"changeTables",value:function(e){for(var t=e.split("x"),a={},r=0;r<t.length;r++){var n=t.length-r;a[n]=a[n]||[];var s=parseInt(t[r]);if(r+1===t.length)a[r].push("Final");else for(var i=0;i<s;i++)a[n].push(r+1+"-"+String.fromCharCode(65+i))}this.setState({designations:a})}},{key:"render",value:function(){return n.a.createElement(w,{pageBreadcrumb:[{name:"Games",link:"/games"},"Create Game"],pageTitle:"Create Game",history:this.props.history},n.a.createElement(Pe,{formRef:this.formRef,onSubmit:this.onSubmit,isSaving:this.state.isSaving,changeTables:this.changeTables,designations:this.state.designations,full:!0}))}}]),a}(n.a.Component),et=a(528),tt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).id=e.match.params.gameid,r.addPlayerToGame=r.addPlayerToGame.bind(Object(c.a)(r)),r.removePlayerFromGame=r.removePlayerFromGame.bind(Object(c.a)(r)),r.addPlayerToTable=r.addPlayerToTable.bind(Object(c.a)(r)),r.removePlayerFromTable=r.removePlayerFromTable.bind(Object(c.a)(r)),r.onSuccess=r.onSuccess.bind(Object(c.a)(r)),r.state={isLoaded:!1,tables:[],tablesLoaded:!1},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.id;new H("/poker/games/"+t+"/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve game.")):e},onParse:function(t){new H("/players/players/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve player list.")):e},onParse:function(a){e.setState({isLoaded:!0,gameData:t,players:a})},onError:function(e){throw e}}),t.tables.forEach((function(a){new H("/poker/games/"+t.id+"/tables/"+a+"/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve table.")):e},onParse:function(a){e.setState((function(e){var r=e.tables;r.push(a);var n=!1;return r.length===t.tables.length&&(n=!0),{tables:r,tablesLoaded:n}}))},onError:function(e){throw e}})}))},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"addPlayerToGame",value:function(e){var t=this;return new H("/poker/games/"+this.state.gameData.id+"/participants/").create({data:{player_ref:e},onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to add participant to game")):e},onParse:function(e){var a=t.state.gameData;a.participants.push(e),t.setState({gameData:a}),O.a.success("Player has been added to the game.")},onError:function(e){O.a.error(e.message)}})}},{key:"removePlayerFromGame",value:function(e,t){if(204!==e.status)throw new Error("Unable to remove player from game");this.setState((function(e){var a,r=e.gameData,n=[];r.participants.forEach((function(e){e.player_ref===t?a=e.id:n.push(e)})),r.participants=n;var s=e.tables;s.forEach((function(e){var t=[];e.participants.forEach((function(e){e.game_participant!==a&&t.push(e)})),e.participants=t}));var i=e.players;return i.forEach((function(e){e.id===t&&(e.participantId=null)})),{gameData:r,tables:s,players:i}})),O.a.success("Player has been removed from game")}},{key:"addPlayerToTable",value:function(e,t){var a=this;return new H("/poker/games/"+this.state.gameData.id+"/tables/"+e+"/participants/").create({data:{game_participant:t},onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to add participant to table")):e},onParse:function(t){a.setState((function(a){var r=a.tables;return r.forEach((function(a){a.id===e&&a.participants.push(t)})),{tables:r}})),O.a.success("Player has been added to the table.")},onError:function(e){O.a.error(e.message)}})}},{key:"removePlayerFromTable",value:function(e,t,a){if(204!==e.status)throw new Error("Unable to remove player from table");this.setState((function(e){var r=[];return e.tables.forEach((function(e){if(e.id===t){var n=[];e.participants.forEach((function(e){e.game_participant!==a&&n.push(e)})),e.participants=n}r.push(e)})),{tables:r}})),O.a.success("Player has been removed from table")}},{key:"onSuccess",value:function(e,t,a){new H("/poker/games/"+this.id+"/tables/"+a.id+"/participants/"+e.tableParticipantId+"/").partialUpdate({data:{success:t},onRes:function(e){return 200!==e.status?Promise.reject(new Error("There was a problem updating the table participant")):e},onError:function(e){O.a.error(e.message)}})}},{key:"render",value:function(){var e=this,t=[{name:"Games",link:"/games"},"Game Detail"],a="Game Detail";if(this.state.isLoaded){if(this.state.error)return n.a.createElement(w,{pageBreadcrumb:t,pageTitle:a,history:this.props.history},n.a.createElement(R.a,{message:this.state.error.message,type:"error"}));var r=[n.a.createElement(q,{key:"deletebutton",id:this.state.gameData.id,resourse:"/poker/games/"+this.state.gameData.id+"/",onRes:function(){O.a.success("Game has been deleted"),e.props.history.push("/games")},confirmMessage:"Are you sure you want to delete this game?"},"Delete Game"),n.a.createElement(p.b,{key:"editlink",to:"/games/edit/"+this.state.gameData.id},n.a.createElement(x.a,{icon:n.a.createElement(L.a,null)},"Edit Game"))];return this.state.gameData.complete||r.push(n.a.createElement(p.b,{key:"completelink",to:"/games/complete/"+this.state.gameData.id},n.a.createElement(x.a,{type:"primary",icon:n.a.createElement(et.a,null)},"Complete Game"))),n.a.createElement(w,{pageBreadcrumb:t,pageTitle:a,history:this.props.history,extra:r},n.a.createElement(E.a,{gutter:16},n.a.createElement(g.a,{sm:24,md:12},n.a.createElement(at,{data:this.state.gameData})),n.a.createElement(g.a,{sm:24,md:12},n.a.createElement(rt,{addPlayer:this.addPlayerToGame,removePlayer:this.removePlayerFromGame,removeResourse:"/poker/games/"+this.state.gameData.id+"/participants/",participants:this.state.gameData.participants,playerData:this.state.players,complete:this.state.gameData.complete}))),this.state.gameData.tables.length>1?n.a.createElement(Re,{tableData:this.state.tables,playerData:this.state.players,isLoaded:this.state.tablesLoaded,addPlayer:this.addPlayerToTable,removePlayer:this.removePlayerFromTable,onSuccess:this.onSuccess,tableResourse:"/poker/games/"+this.state.gameData.id+"/tables/",delete:!0,add:!0}):"")}return n.a.createElement(y.a,null,n.a.createElement(w,{pageBreadcrumb:t,pageTitle:a,history:this.props.history}))}}]),a}(n.a.Component),at=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(Je.a,{bordered:!0,title:"Game Info",column:{xs:1,sm:2}},n.a.createElement(Je.a.Item,{label:"ID"},this.props.data.id),n.a.createElement(Je.a.Item,{label:"Date"},n.a.createElement(re.a,{format:"DD/MM/YYYY"},this.props.data.date_played)),n.a.createElement(Je.a.Item,{label:"Game Number"},this.props.data.game_number),n.a.createElement(Je.a.Item,{label:"Stake"},n.a.createElement(te.a,{thousandSeparator:!0,prefix:"\xa3",value:this.props.data.stake/100,displayType:"text"})),n.a.createElement(Je.a.Item,{label:"Tables"},this.props.data.tables.length),n.a.createElement(Je.a.Item,{label:"Status"},this.props.data.complete?n.a.createElement(Q.a,{color:"success"},"Complete"):n.a.createElement(Q.a,{color:"warning"},"Incomplete")))}}]),a}(n.a.Component),rt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=[],a=[];return this.props.playerData.forEach((function(r){var n=!1;e.props.participants.forEach((function(e){r.id===e.player_ref&&(r.participantId=e.id,r.place=e.place,t.push(r),n=!0)})),!n&&r.active&&a.push(r)})),t.sort((function(e,t){return e.name.localeCompare(t.name)})),this.props.complete&&t.sort((function(e,t){return(0===e.place?999:e.place)-(0===t.place?999:t.place)})),n.a.createElement(De,{players:t,validExtraPlayers:a,label:"Game Players",addPlayer:this.props.addPlayer,removeResourse:this.props.removeResourse,removePlayer:this.props.removePlayer,removeKey:"participantId",delete:!0,success:!1,add:!0,place:this.props.complete})}}]),a}(n.a.Component),nt=Object(d.f)(tt),st=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).formRef=n.a.createRef(),r.onSubmit=r.onSubmit.bind(Object(c.a)(r)),r.id=e.match.params.gameid,r.state={isLoaded:!1,gameData:{},isSaving:!1},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/poker/games/"+this.id+"/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve game.")):e},onParse:function(t){t.date_played=ce()(t.date_played),t.place_two_multiplier=parseInt(t.place_two_multiplier),t.place_three_multiplier=parseInt(t.place_three_multiplier),t.place_three_multiplier_custom=parseInt(t.place_three_multiplier),t.place_two_multiplier_custom=parseInt(t.place_two_multiplier),t.stake=t.stake/100,0!==t.place_three_multiplier&&1!==t.place_three_multiplier&&2!==t.place_three_multiplier&&(t.place_three_multiplier="x"),0!==t.place_two_multiplier&&1!==t.place_two_multiplier&&2!==t.place_two_multiplier&&(t.place_two_multiplier="x"),e.setState({isLoaded:!0,gameData:t})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"onSubmit",value:function(e){var t=this;this.setState({isSaving:!0});var a={date_played:e.date_played.format("YYYY-MM-DD"),game_number:e.game_number,stake:100*e.stake,place_two_multiplier:e.place_two_multiplier,place_three_multiplier:e.place_three_multiplier};"x"===a.place_two_multiplier&&(a.place_two_multiplier=e.place_two_multiplier_custom),"x"===a.place_three_multiplier&&(a.place_three_multiplier=e.place_three_multiplier_custom),new H("/poker/games/"+this.id+"/").update({data:a,onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to update game.")):e},onParse:function(){t.setState({isSaving:!1}),t.props.history.push("/games/detail/"+t.id),O.a.success("Game has been updated")},onError:function(e){t.setState({isSaving:!1}),O.a.error(e.message)}})}},{key:"render",value:function(){var e=[{name:"Games",link:"/games"},{name:"Game Detail",link:"/games/detail/"+this.id},"Edit Game"];return this.state.isLoaded?this.state.error?n.a.createElement(w,{pageBreadcrumb:e,pageTitle:"Edit Game",history:this.props.history},n.a.createElement(R.a,{type:"error",message:this.state.error.message})):n.a.createElement(w,{pageBreadcrumb:e,pageTitle:"Edit Game",history:this.props.history},n.a.createElement(Pe,{formRef:this.formRef,onSubmit:this.onSubmit,isSaving:this.state.isSaving,initialValues:this.state.gameData})):n.a.createElement(y.a,null,n.a.createElement(w,{pageBreadcrumb:e,pageTitle:"Edit Game",history:this.props.history}))}}]),a}(n.a.Component),it=Object(d.f)(st),lt=a(511),ot=a(529),ct=lt.a.Step,mt=me.a.Paragraph,ut=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).formRef=n.a.createRef(),r.id=e.match.params.gameid,r.stageForward=r.stageForward.bind(Object(c.a)(r)),r.stageBack=r.stageBack.bind(Object(c.a)(r)),r.onSuccess=r.onSuccess.bind(Object(c.a)(r)),r.onPlace=r.onPlace.bind(Object(c.a)(r)),r.onPayee=r.onPayee.bind(Object(c.a)(r)),r.onBalance=r.onBalance.bind(Object(c.a)(r)),r.state={isLoaded:!1,gameData:{},singleTable:!0,tables:[],tablesLoaded:!1,completedParticipants:[],places:{}},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.gameid;new H("/poker/games/"+t+"/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve game.")):e},onParse:function(t){var a="placing",r=!0;t.tables.length>1&&(r=!1,a="tables"),new H("/players/players/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve player list.")):e},onParse:function(n){n.forEach((function(e){t.participants.forEach((function(t){e.id===t.player_ref&&(e.participantId=t.id)}))})),e.setState({isLoaded:!0,gameData:t,players:n,singleTable:r,stage:a})},onError:function(e){throw e}}),t.tables.forEach((function(a){new H("/poker/games/"+t.id+"/tables/"+a+"/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve table.")):e},onParse:function(a){e.setState((function(e){var r=e.completedParticipants,n=e.tables;n.push(a);var s=!1;return n.length===t.tables.length&&(s=!0),"Final"===a.designation&&(r=a.participants.map((function(e){return e.game_participant}))),{tables:n,tablesLoaded:s,completedParticipants:r}}))},onError:function(e){throw e}})}))},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"stageForward",value:function(){var e=this;if("tables"===this.state.stage)this.setState({stage:"placing"});else if("placing"===this.state.stage)if(Object.keys(this.state.places).length===this.state.players.filter((function(e){return e.participantId})).length){var t=[],a=[],r=0;this.state.players.forEach((function(n){n.participantId&&(n.allocated=0,t.push(n),1===e.state.places[n.id]?(a.push(n),n.balance=0):2===e.state.places[n.id]&&e.state.gameData.place_two_multiplier>0?n.balance=e.state.gameData.stake*(e.state.gameData.place_two_multiplier-1):3===e.state.places[n.id]&&e.state.gameData.place_three_multiplier>0?n.balance=e.state.gameData.stake*(e.state.gameData.place_three_multiplier-1):n.balance=-1*e.state.gameData.stake,r-=n.balance)}));var n=r/a.length;a.forEach((function(e){e.balance=n}));var s=[];t.sort((function(e,t){return e.balance-t.balance})).forEach((function(t){if(t.balance<0)s.push(t);else if(t.balance-t.allocated>0)for(;t.balance-t.allocated>0&&s.length>0;){s.shift().payee=t.id,t.allocated+=e.state.gameData.stake}})),this.setState({stage:"payment",completedPlayers:t})}else O.a.error("You must provide places for all players.");else if("payment"===this.state.stage){this.setState({stage:"complete"});var i=[];this.singleTable||this.state.tables.forEach((function(t){"Final"!==t.designation&&t.participants.forEach((function(a){e.state.completedParticipants.forEach((function(r){a.game_participant===r&&i.push(new H("/poker/games/"+e.id+"/tables/"+t.id+"/participants/"+a.id+"/").partialUpdate({data:{success:!0},onRes:function(e){return 200!==e.status?Promise.reject(new Error("There was a problem updating the table participants.")):e},onError:function(t){e.setState({error:t})}}))}))}))})),Promise.all(i).then((function(){var t=[];Object.keys(e.state.places).forEach((function(a){e.state.players.forEach((function(r){r.id===parseInt(a)&&t.push(new H("/poker/games/"+e.id+"/participants/"+r.participantId+"/").partialUpdate({data:{place:e.state.places[a]},onRes:function(e){return 200!==e.status?Promise.reject(new Error("There was a problem updating the game participants.")):e},onError:function(t){e.setState({error:t})}}))}))})),Promise.all(t).then((function(){var t=[];e.state.completedPlayers.forEach((function(a){a.payee&&t.push(new H("/players/payment_obligation/").create({data:{payer:a.id,payee:a.payee,game_ref:e.id,payment_amount:-1*a.balance},onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to create payment obligation")):e},onError:function(t){e.setState({error:t})}}))})),Promise.all(t).then((function(){new H("/poker/games/"+e.id+"/").partialUpdate({data:{complete:!0},onRes:function(e){return 200!==e.status?Promise.reject(new Error("There was a problem updating the game")):e},onParse:function(){O.a.success("Game has been completed"),e.props.history.push("/games/detail/"+e.id)},onError:function(t){e.setState({error:t})}})}))}))}))}}},{key:"stageBack",value:function(){"placing"!==this.state.stage||this.state.singleTable?"placing"===this.state.stage||"tables"===this.state.stage?this.props.history.push("/games/detail/"+this.id):"payment"===this.state.stage&&this.setState({stage:"placing"}):this.setState({stage:"tables"})}},{key:"onSuccess",value:function(e,t){if(t){var a=!1,r=[];this.state.completedParticipants.forEach((function(t){e.participantId===t&&(a=!0),r.push(t)})),a||r.push(e.participantId),this.setState({completedParticipants:r})}else{var n=[];this.state.completedParticipants.forEach((function(t){e.participantId!==t&&n.push(t)})),this.setState({completedParticipants:n})}}},{key:"onPlace",value:function(e,t){this.setState((function(a){var r=a.places;return r[e.id]=t,{places:r}}))}},{key:"onBalance",value:function(e,t){this.setState((function(a){var r=a.completedPlayers;return r.forEach((function(a){a.id===e.id&&(a.balance=100*t)})),{completedPlayers:r}}))}},{key:"onPayee",value:function(e,t){this.setState((function(a){var r=a.completedPlayers;return r.forEach((function(a){a.id===e.id&&(a.payee=t)})),{completedPlayers:r}}))}},{key:"render",value:function(){var e=this,t=[{name:"Games",link:"/games"},{name:"Game Detail",link:"/games/detail/"+this.id},"Complete Game"],a="Complete Game",r={tables:"Table Winners",placing:"Game Winners",payment:"Payment Arrangements",complete:"Game Completion"},s=["tables","placing","payment","complete"];this.state.singleTable&&(s=s.splice(1));var i=s.indexOf(this.state.stage),l=[];if(s.forEach((function(e){l.push(n.a.createElement(ct,{key:e,title:r[e]}))})),this.state.isLoaded){if(this.state.error)return n.a.createElement(w,{pageBreadcrumb:t,pageTitle:a,history:this.props.history},n.a.createElement(R.a,{type:"error",message:this.state.error.message}));var o;if("tables"===this.state.stage)o=n.a.createElement(Re,{tableData:this.state.tables.filter((function(e){return"Final"!==e.designation})),playerData:this.state.players,isLoaded:this.state.tablesLoaded,completedParticipants:this.state.completedParticipants,onSuccess:this.onSuccess,delete:!1,complete:!0,add:!1});else if("placing"===this.state.stage){var c=[];this.state.players.sort((function(e,t){return e.name.localeCompare(t.name)})).forEach((function(e){e.participantId&&c.push(e)})),o=n.a.createElement(E.a,{gutter:16},n.a.createElement(g.a,{sm:24,md:12},n.a.createElement(E.a,null,n.a.createElement(g.a,{span:12},n.a.createElement("div",{className:"ant-descriptions-title"}))),n.a.createElement(ue.a,null,n.a.createElement(mt,null,n.a.createElement(X.a,null)," Enter the places for each player on the right hand side as a numerical value. 1 for the winner, 2 for second place etc. For any players where the place is unknown enter 0."))),n.a.createElement(g.a,{sm:24,md:12},n.a.createElement(De,{players:c,delete:!1,complete:!1,add:!1,place:!1,setPlace:!0,onPlace:this.onPlace,places:this.state.places})))}else if("payment"===this.state.stage){var m=this.state.completedPlayers;m.sort((function(t,a){return e.state.places[t.id]-e.state.places[a.id]})),o=n.a.createElement(E.a,{gutter:16},n.a.createElement(g.a,{sm:24,md:24},n.a.createElement(ue.a,null,n.a.createElement(mt,null,n.a.createElement(X.a,null)," Check the payment details below. If required you can change the payment values or the adjust who is paying who.")),n.a.createElement(De,{players:m,places:this.state.places,delete:!1,complete:!1,add:!1,place:!0,setPlace:!1,setBalance:!0,onPayee:this.onPayee,onBalance:this.onBalance})))}else"complete"===this.state.stage&&(o=n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(g.a,{span:24}))));return n.a.createElement(w,{pageBreadcrumb:t,pageTitle:a,history:this.props.history,customBack:this.stageBack,extra:[n.a.createElement(x.a,{key:"continue",type:"primary",icon:n.a.createElement(ot.a,null),onClick:this.stageForward,disabled:"completed"===this.state.stage},"Continue")]},n.a.createElement(lt.a,{current:i},l),n.a.createElement("br",null),o)}return n.a.createElement(y.a,null,n.a.createElement(w,{pageBreadcrumb:t,pageTitle:a,history:this.props.history}))}}]),a}(n.a.Component),pt=Object(d.f)(ut),dt=a(193),ht=a.n(dt),ft=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).markPaid=r.markPaid.bind(Object(c.a)(r)),r.state={error:null,isLoaded:!1,payments:[],games:[],players:[]},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/players/players/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve player list.")):e},onParse:function(t){new H("/players/payment_obligation/"+e.props.location.search).retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve payment list.")):e},onParse:function(a){new H("/poker/games/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve player list.")):e},onParse:function(r){a.forEach((function(e){t.forEach((function(t){e.payee===t.id&&(e.payeeDetail=t,e.payeeName=t.name),e.payer===t.id&&(e.payerDetail=t,e.payerName=t.name)}))})),e.setState({isLoaded:!0,payments:a,games:r,players:t})},onError:function(t){e.setState({isLoaded:!0,error:t})}})},onError:function(t){e.setState({isLoaded:!0,error:t})}})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"markPaid",value:function(e,t){var a=this,r={};"paid"===t?(r.payment_confirmed=!0,r.payment_sent=!1):"sent"===t&&(r.payment_sent=!0,r.payment_confirmed=!1),new H("/players/payment_obligation/"+e+"/").partialUpdate({data:r,onRes:function(e){return 200!==e.status?Promise.reject(new Error("There was a problem updating the payment")):e},onParse:function(t){a.setState((function(a){var r=[];return a.payments.forEach((function(a){a.id===e?(t.payeeDetail=a.payeeDetail,t.payeeName=a.payeeName,t.payerDetail=a.payerDetail,t.payerName=a.payerName,r.push(t)):r.push(a)})),{payments:r}})),O.a.success("Payment has been updated")},onError:function(e){O.a.error(e.message)}})}},{key:"render",value:function(){var e=this,t=["Payments"],a=this.state.players.map((function(e){return{text:e.name,value:e.id+""}})),r=[],s=[];"payee"===ht.a.parse(this.props.location.search).mine?r.push(this.props.profileData.id+""):"payer"===ht.a.parse(this.props.location.search).mine&&s.push(this.props.profileData.id+"");var i=[{title:"ID",dataIndex:"id",key:"id",sorter:function(e,t){return e.id-t.id},defaultSortOrder:"descend"},{title:"Payer",dataIndex:"payerName",key:"payer",sorter:function(e,t){return e.payerName.localeCompare(t.payerName)},filters:a,onFilter:function(e,t){return t.payer===parseInt(e)},render:function(e,t){return n.a.createElement(T,{data:t.payerDetail},e)},defaultFilteredValue:s},{title:"Payee",dataIndex:"payeeName",key:"payee",sorter:function(e,t){return e.payeeName.localeCompare(t.payeeName)},filters:a,onFilter:function(e,t){return t.payee===parseInt(e)},render:function(e,t){return n.a.createElement(T,{data:t.payeeDetail},e)},defaultFilteredValue:r},{title:"Game",dataIndex:"game_ref",key:"game_ref",responsive:["md"],render:function(t){var a=e.state.games.filter((function(e){return e.id===t}))[0];return n.a.createElement(p.b,{to:"/games/detail/"+a.id},n.a.createElement(re.a,{format:"DD/MM/YYYY"},a.date_played)," #"+a.game_number)}},{title:"Amount",key:"payment_amount",dataIndex:"payment_amount",align:"center",render:function(e){return n.a.createElement(te.a,{value:e/100,displayType:"text",prefix:"\xa3"})}},{title:"Status",key:"status",responsive:["md"],render:function(e){return e.payment_confirmed?n.a.createElement(Q.a,{color:"success"},"Paid"):e.payment_sent?n.a.createElement(Q.a,{color:"warning"},"Sent"):n.a.createElement(Q.a,{color:"error"},"Pending")},align:"center",filters:[{text:"Paid",value:"paid"},{text:"Sent",value:"sent"},{text:"Pending",value:"pending"}],onFilter:function(e,t){return"paid"===e?t.payment_confirmed:"sent"===e?t.payment_sent:!t.payment_confirmed&&!t.payment_sent},defaultFilteredValue:["pending","sent"]},{key:"edit",align:"center",render:function(t){return t.payee!==e.props.profileData.id||t.payment_confirmed?t.payer!==e.props.profileData.id||t.payment_sent||t.payment_confirmed?"":n.a.createElement(z.a,{placement:"top",title:"Are you sure you want to mark this payment as payment sent?",onConfirm:function(){return e.markPaid(t.id,"sent")},okText:"Yes",cancelText:"No"},n.a.createElement(x.a,{icon:n.a.createElement(Ue.a,null)},"Payment Sent")):n.a.createElement(z.a,{placement:"top",title:"Are you sure you want to confirm receipt of this payment?",onConfirm:function(){return e.markPaid(t.id,"paid")},okText:"Yes",cancelText:"No"},n.a.createElement(x.a,{icon:n.a.createElement(Ue.a,null)},"Confirm Payment"))}}];return this.state.error?n.a.createElement(w,{pageBreadcrumb:t,pageTitle:"Payments"},n.a.createElement(R.a,{type:"error",message:this.state.error.message})):n.a.createElement(w,{pageBreadcrumb:t,pageTitle:"Payments",extra:[n.a.createElement(p.b,{key:"addpayment",to:"/payments/add"},n.a.createElement(x.a,{type:"primary",icon:n.a.createElement(I.a,null)},"Create Payment Request"))]},n.a.createElement(M,{loading:!this.state.isLoaded,dataSource:this.state.payments,columns:i,rowKey:"id",bordered:!0}))}}]),a}(n.a.Component),yt=ye.a.Option,Et=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).formRef=n.a.createRef(),r.onSubmit=r.onSubmit.bind(Object(c.a)(r)),r.state={games:[],players:[],isSaving:!1},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/players/players/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve player list.")):e},onParse:function(t){new H("/poker/games/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve player list.")):e},onParse:function(a){e.setState({isLoaded:!0,games:a,players:t})},onError:function(t){e.setState({isLoaded:!0,error:t})}})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"onSubmit",value:function(e){var t=this;this.setState({isSaving:!0}),e.payment_amount=100*e.payment_amount,new H("/players/payment_obligation/").create({data:e,onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to create payment request.")):e},onParse:function(){t.setState({isSaving:!1}),t.props.history.push("/payments"),O.a.success("Payment request has been created")},onError:function(e){t.setState({isSaving:!1}),O.a.error(e.message)}})}},{key:"render",value:function(){return n.a.createElement(w,{pageBreadcrumb:[{name:"Payments",link:"/payments"},"Create Payment Request"],pageTitle:"Create Payment Request",history:this.props.history},n.a.createElement(Ee.a,{labelCol:{span:8},wrapperCol:{span:16},onFinish:this.onSubmit,ref:this.formRef},n.a.createElement(Ee.a.Item,{name:"payer",label:"Payer",rules:[{required:!0,message:"You must select a player"}]},n.a.createElement(ye.a,{placeholder:"Choose a player",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.players.map((function(e){return n.a.createElement(yt,{key:e.id,value:e.id},e.name)})))),n.a.createElement(Ee.a.Item,{name:"payee",label:"Payee",rules:[{required:!0,message:"You must select a player"}]},n.a.createElement(ye.a,{placeholder:"Choose a player",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.players.map((function(e){return n.a.createElement(yt,{key:e.id,value:e.id},e.name)})))),n.a.createElement(Ee.a.Item,{name:"game_ref",label:"Game",rules:[{required:!0,message:"You must select a player"}]},n.a.createElement(ye.a,{placeholder:"Choose a game",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.games.map((function(e){return n.a.createElement(yt,{key:e.id,value:e.id},n.a.createElement(re.a,{format:"DD/MM/YYYY"},e.date_played)," #"+e.game_number)})))),n.a.createElement(Ee.a.Item,{label:"Amount",name:"payment_amount",rules:[{required:!0,message:"You must provide an amount for the payment"}]},n.a.createElement(be.a,{min:1,formatter:function(e){return"\xa3 ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\xa3\s?|(,*)/g,"")}})),n.a.createElement(Ee.a.Item,{wrapperCol:{offset:8,span:16}},n.a.createElement(x.a,{type:"primary",htmlType:"submit",loading:this.props.isSaving},"Save"))))}}]),a}(n.a.Component),gt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).removeSchedule=r.removeSchedule.bind(Object(c.a)(r)),r.state={error:null,isLoaded:!1,sessions:[],players:[]},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/schedule/sessions/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve schedule list.")):e},onParse:function(t){new H("/players/players/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve player list.")):e},onParse:function(a){e.setState({isLoaded:!0,sessions:t,players:a})},onError:function(t){e.setState({isLoaded:!0,error:t})}})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"removeSchedule",value:function(e,t){if(204!==e.status)return Promise.reject(new Error("Unable to delete sessions."));var a=this.state.sessions;return this.setState({sessions:a.filter((function(e){return e.id!==t}))}),O.a.success("Session has been deleted"),e}},{key:"render",value:function(){var e=this,t=["Schedule"],a=this.state.players.map((function(e){return{text:e.name,value:e.id+""}})),r=this.state.sessions;r.forEach((function(t){e.state.players.forEach((function(e){t.players.forEach((function(t){t.player_ref===e.id&&(t.playerDetail=e)})),t.createdby_player===e.id&&(t.createdbyName=e.name,t.createdbyDetail=e)}))}));var s=[{title:"Suggested By",dataIndex:"createdbyName",key:"createdbyName",responsive:["md"],sorter:function(e,t){return e.createdbyName.localeCompare(t.createdbyName)},filters:a,onFilter:function(e,t){return t.createdby_player===parseInt(e)},render:function(e,t){return n.a.createElement(T,{data:t.createdbyDetail},e)}},{title:"Date / Time",key:"schedule_date",dataIndex:"schedule_date",align:"center",sorter:function(e,t){return new ce.a(e.schedule_date).format("YYYYMMDD").localeCompare(new ce.a(t.schedule_date).format("YYYYMMDD"))},defaultSortOrder:"descend",render:function(e){return n.a.createElement(re.a,{format:"DD/MM/YYYY HH:mm"},e)}},{title:"Confirmed",key:"confirmed",align:"center",responsive:["md"],render:function(e){return e.players.filter((function(e){return e.attendance})).length>0?n.a.createElement($.a,{placement:"top",content:n.a.createElement(D.a,{direction:"vertical"},e.players.filter((function(e){return e.attendance})).map((function(e){return n.a.createElement(T,{key:e.id,data:e.playerDetail},e.playerDetail.name)})))},e.players.filter((function(e){return e.attendance})).length," ",n.a.createElement(X.a,null)):e.players.filter((function(e){return e.attendance})).length}},{title:"Declined",key:"declined",align:"center",responsive:["md"],render:function(e){return e.players.filter((function(e){return!e.attendance})).length>0?n.a.createElement($.a,{placement:"top",content:n.a.createElement(D.a,{direction:"vertical"},e.players.filter((function(e){return!e.attendance})).map((function(e){return n.a.createElement(T,{key:e.id,data:e.playerDetail},e.playerDetail.name)})))},e.players.filter((function(e){return!e.attendance})).length," ",n.a.createElement(X.a,null)):e.players.filter((function(e){return!e.attendance})).length}},{key:"edit",align:"center",render:function(t){return n.a.createElement(D.a,null,n.a.createElement(p.b,{to:"/schedule/edit/"+t.id},n.a.createElement(x.a,{disabled:t.user,icon:n.a.createElement(L.a,null)},"Edit")),n.a.createElement(q,{id:t.id,resourse:"/schedule/sessions/"+t.id+"/",onRes:e.removeSchedule,confirmMessage:"Are you sure you want to delete this scheduled session?"}))}}];return this.state.error?n.a.createElement(w,{pageBreadcrumb:t,pageTitle:"Schedule"},n.a.createElement(R.a,{type:"error",message:this.state.error.message})):n.a.createElement(w,{pageBreadcrumb:t,pageTitle:"Schedule",extra:[n.a.createElement(p.b,{key:"addschedule",to:"/schedule/add"},n.a.createElement(x.a,{type:"primary",icon:n.a.createElement(I.a,null)},"Schedule Session"))]},n.a.createElement(M,{loading:!this.state.isLoaded,dataSource:r,columns:s,rowKey:"id",bordered:!0}))}}]),a}(n.a.Component),bt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).formRef=n.a.createRef(),r.onSubmit=r.onSubmit.bind(Object(c.a)(r)),r.state={isSaving:!1},r}return Object(o.a)(a,[{key:"onSubmit",value:function(e){var t=this;this.setState({isSaving:!0}),new H("/schedule/sessions/").create({data:Object(B.a)({},e,{},{createdby_player:this.props.profileData.id}),onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to create session.")):e},onParse:function(e){new H("/schedule/sessions/"+e.id+"/players/").create({data:{player_ref:t.props.profileData.id,attendance:!0},onRes:function(e){return 201!==e.status?Promise.reject(new Error("Unable to create session.")):e},onParse:function(){t.setState({isSaving:!1}),t.props.history.push("/schedule"),O.a.success("Session has been created")},onError:function(e){throw e}})},onError:function(e){t.setState({isSaving:!1}),O.a.error(e.message)}})}},{key:"render",value:function(){return n.a.createElement(w,{pageBreadcrumb:[{name:"Schedule",link:"/schedule"},"Schedule Session"],pageTitle:"Schedule Session",history:this.props.history},n.a.createElement(Le,{formRef:this.formRef,onSubmit:this.onSubmit,isSaving:this.state.isSaving}))}}]),a}(n.a.Component),vt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).formRef=n.a.createRef(),r.onSubmit=r.onSubmit.bind(Object(c.a)(r)),r.id=e.match.params.sessionid,r.state={isLoaded:!1,sessionData:{},isSaving:!1},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/schedule/sessions/"+this.id+"/").retrieve({onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to retrieve session.")):e},onParse:function(t){t.schedule_date=ce()(t.schedule_date),e.setState({isLoaded:!0,sessionData:t})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"onSubmit",value:function(e){var t=this;this.setState({isSaving:!0}),new H("/schedule/sessions/"+this.id+"/").update({data:e,onRes:function(e){return 200!==e.status?Promise.reject(new Error("Unable to update session.")):e},onParse:function(){t.setState({isSaving:!1}),t.props.history.push("/schedule"),O.a.success("Session has been updated")},onError:function(e){t.setState({isSaving:!1}),O.a.error(e.message)}})}},{key:"render",value:function(){var e=[{name:"Schedule",link:"/schedule"},"Edit Session"],t="Edit Session";return this.state.isLoaded?this.state.error?n.a.createElement(w,{pageBreadcrumb:e,pageTitle:t,history:this.props.history},n.a.createElement(R.a,{type:"error",message:this.state.error.message})):n.a.createElement(w,{pageBreadcrumb:e,pageTitle:t,history:this.props.history},n.a.createElement(Le,{formRef:this.formRef,onSubmit:this.onSubmit,isSaving:this.state.isSaving,initialValues:this.state.sessionData})):n.a.createElement(w,{pageBreadcrumb:e,pageTitle:t,history:this.props.history},n.a.createElement(y.a,null))}}]),a}(n.a.Component),kt=Object(d.f)(vt),Pt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(Ze,Object.assign({},this.props,{allowEditUser:!0,playerId:this.props.profileData.id}))}}]),a}(n.a.Component),St=[{path:"/players/add",component:qe},{path:"/players/edit/:playerid",component:Ze},{path:"/players/profile",component:Pt},{path:"/players/:playerid",component:$e},{path:"/players",component:J},{path:"/games/detail/:gameid",component:nt},{path:"/games/edit/:gameid",component:it},{path:"/games/complete/:gameid",component:pt},{path:"/games/add",component:Qe},{path:"/games",component:ie},{path:"/payments/add",component:Et},{path:"/payments",component:ft},{path:"/schedule/edit/:sessionid",component:kt},{path:"/schedule/add",component:bt},{path:"/schedule",component:gt},{path:"/leaderboards",component:He},{path:"/",component:Ae}];function jt(e){return n.a.createElement(d.a,{path:e.path,render:function(t){return n.a.createElement(e.component,Object.assign({profileData:e.profileData,updateProfile:e.updateProfile},t,{routes:e.routes}))}})}function _t(e){return n.a.createElement(d.c,null,St.map((function(t,a){return n.a.createElement(jt,Object.assign({profileData:e.profileData,updateProfile:e.updateProfile,key:a},t))})))}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ot(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Dt=n.a.createElement("tspan",{y:24.096376,x:24.225363,strokeWidth:.26572,fill:"#280b0b"},"Poker"),xt=n.a.createElement("tspan",{y:24.203451,x:82.688362,strokeWidth:.26458,fill:"#ff0000"},"Woo!"),Rt=n.a.createElement("g",{transform:"matrix(.44861 0 0 .43921 -21.587 -75.277)"},n.a.createElement("g",{transform:"matrix(.24863 -.090493 .090493 .24863 46.59 182.27)"},n.a.createElement("path",{d:"m21 5h103c8.86 0 16 7.136 16 16v153c0 8.86-7.14 16-16 16h-103c-8.864 0-16-7.14-16-16v-153c0-8.864 7.136-16 16-16z",fillOpacity:.49804}),n.a.createElement("path",{d:"m17 1h103c8.86 0 16 7.136 16 16v153c0 8.86-7.14 16-16 16h-103c-8.864 0-16-7.14-16-16v-153c0-8.864 7.136-16 16-16z",fill:"#e7e7e7"}),n.a.createElement("path",{d:"m19 3h103c8.86 0 16 7.136 16 16v153c0 8.86-7.14 16-16 16h-103c-8.864 0-16-7.14-16-16v-153c0-8.864 7.136-16 16-16z",fill:"#c7891f"}),n.a.createElement("path",{d:"m18 2h103c8.86 0 16 7.136 16 16v153c0 8.86-7.14 16-16 16h-103c-8.864 0-16-7.14-16-16v-153c0-8.864 7.136-16 16-16z",fill:"#fff"}),n.a.createElement("g",{transform:"matrix(.59314 0 0 .23894 -103.05 9.256)"},n.a.createElement("path",{strokeLinejoin:"round",d:"m260.18 149.6c-4.84 19.24-19.68 52-10.28 62.12 5.71 4.66 8.42-4.88 9.57-11.19h0.23l-3.79 31.84 8.78-0.1s-3.78-30.6-3.79-31.77h0.09c0.93 5.16 4.46 15.83 8.34 11.77 11.34-11.4-5.36-43.83-9.15-62.67z",fillRule:"evenodd",strokeWidth:.7589})),n.a.createElement("g",{transform:"matrix(-.59314 0 0 -.23894 207.41 177.52)"},n.a.createElement("path",{strokeLinejoin:"round",d:"m260.18 149.6c-4.84 19.24-19.68 52-10.28 62.12 5.71 4.66 8.42-4.88 9.57-11.19h0.23l-3.79 31.84 8.78-0.1s-3.78-30.6-3.79-31.77h0.09c0.93 5.16 4.46 15.83 8.34 11.77 11.34-11.4-5.36-43.83-9.15-62.67z",fillRule:"evenodd",strokeWidth:.7589})),n.a.createElement("g",{transform:"matrix(.59314 0 0 .23894 -67.053 9.256)"},n.a.createElement("path",{strokeLinejoin:"round",d:"m260.18 149.6c-4.84 19.24-19.68 52-10.28 62.12 5.71 4.66 8.42-4.88 9.57-11.19h0.23l-3.79 31.84 8.78-0.1s-3.78-30.6-3.79-31.77h0.09c0.93 5.16 4.46 15.83 8.34 11.77 11.34-11.4-5.36-43.83-9.15-62.67z",fillRule:"evenodd",strokeWidth:.7589})),n.a.createElement("g",{transform:"matrix(-.59314 0 0 -.23894 242.41 177.52)"},n.a.createElement("path",{strokeLinejoin:"round",d:"m260.18 149.6c-4.84 19.24-19.68 52-10.28 62.12 5.71 4.66 8.42-4.88 9.57-11.19h0.23l-3.79 31.84 8.78-0.1s-3.78-30.6-3.79-31.77h0.09c0.93 5.16 4.46 15.83 8.34 11.77 11.34-11.4-5.36-43.83-9.15-62.67z",fillRule:"evenodd",strokeWidth:.7589})),n.a.createElement("path",{d:"m20.645 48.665c-4.925 7.825-20.035 21.149-10.463 25.263 5.811 1.894 8.576-1.983 9.747-4.549h0.235l-3.859 12.946 8.937-0.038s-3.85-12.445-3.859-12.921h0.094c0.946 2.097 4.536 6.439 8.484 4.785 11.546-4.635-5.455-17.824-9.316-25.486z",fillRule:"evenodd"}),n.a.createElement("path",{d:"m11.275 11.998h18.69v4.36l-9.669 25.64h-6.23l9.154-24.313h-11.945v-5.687"}),n.a.createElement("path",{d:"m118.13 140c4.92-7.82 20.03-21.15 10.46-25.26-5.81-1.9-8.58 1.98-9.75 4.55h-0.23l3.86-12.95-8.94 0.04s3.85 12.44 3.86 12.92h-0.1c-0.94-2.1-4.53-6.44-8.48-4.79-11.547 4.64 5.45 17.83 9.32 25.49z",fillRule:"evenodd"}),n.a.createElement("path",{d:"m127.5 177h-18.69v-4.36l9.66-25.64h6.23l-9.15 24.31h11.95v5.69"}),n.a.createElement("g",{transform:"matrix(.59314 0 0 .23894 -84.412 24.256)"},n.a.createElement("path",{strokeLinejoin:"round",d:"m260.18 149.6c-4.84 19.24-19.68 52-10.28 62.12 5.71 4.66 8.42-4.88 9.57-11.19h0.23l-3.79 31.84 8.78-0.1s-3.78-30.6-3.79-31.77h0.09c0.93 5.16 4.46 15.83 8.34 11.77 11.34-11.4-5.36-43.83-9.15-62.67z",fillRule:"evenodd",strokeWidth:.7589})),n.a.createElement("g",{transform:"matrix(-.59314 0 0 -.23894 224.41 162.52)"},n.a.createElement("path",{strokeLinejoin:"round",d:"m260.18 149.6c-4.84 19.24-19.68 52-10.28 62.12 5.71 4.66 8.42-4.88 9.57-11.19h0.23l-3.79 31.84 8.78-0.1s-3.78-30.6-3.79-31.77h0.09c0.93 5.16 4.46 15.83 8.34 11.77 11.34-11.4-5.36-43.83-9.15-62.67z",fillRule:"evenodd",strokeWidth:.7589})),n.a.createElement("g",{transform:"matrix(.59314 0 0 .23894 -84.053 47.256)"},n.a.createElement("path",{strokeLinejoin:"round",d:"m260.18 149.6c-4.84 19.24-19.68 52-10.28 62.12 5.71 4.66 8.42-4.88 9.57-11.19h0.23l-3.79 31.84 8.78-0.1s-3.78-30.6-3.79-31.77h0.09c0.93 5.16 4.46 15.83 8.34 11.77 11.34-11.4-5.36-43.83-9.15-62.67z",fillRule:"evenodd",strokeWidth:.7589}))),n.a.createElement("g",{transform:"matrix(.26281 -.030567 .030567 .26281 57.802 178.42)"},n.a.createElement("path",{d:"m21 5h103c8.86 0 16 7.136 16 16v153c0 8.86-7.14 16-16 16h-103c-8.864 0-16-7.14-16-16v-153c0-8.864 7.136-16 16-16z",fillOpacity:.49804}),n.a.createElement("path",{d:"m17 1h103c8.86 0 16 7.136 16 16v153c0 8.86-7.14 16-16 16h-103c-8.864 0-16-7.14-16-16v-153c0-8.864 7.136-16 16-16z",fill:"#e7e7e7"}),n.a.createElement("path",{d:"m19 3h103c8.86 0 16 7.136 16 16v153c0 8.86-7.14 16-16 16h-103c-8.864 0-16-7.14-16-16v-153c0-8.864 7.136-16 16-16z",fill:"#c7891f"}),n.a.createElement("path",{d:"m18 2h103c8.86 0 16 7.136 16 16v153c0 8.86-7.14 16-16 16h-103c-8.864 0-16-7.14-16-16v-153c0-8.864 7.136-16 16-16z",fill:"#fff"}),n.a.createElement("g",{fill:"#f00"},n.a.createElement("path",{d:"m18.8 36.311h10.915v5.687h-18.025v-5.687l9.054-9.665c0.809-0.884 1.407-1.748 1.794-2.592 0.388-0.844 0.582-1.721 0.582-2.632 0-1.407-0.393-2.538-1.18-3.396-0.775-0.857-1.811-1.286-3.106-1.286-0.997 0-2.088 0.261-3.273 0.784-1.185 0.509-2.453 1.272-3.805 2.291v-6.591c1.44-0.576 2.863-1.012 4.27-1.306 1.407-0.308 2.785-0.462 4.137-0.462 2.968 0 5.272 0.79 6.911 2.371 1.65 1.58 2.475 3.784 2.475 6.61 0 1.635-0.349 3.162-1.047 4.582-0.697 1.406-2.165 3.295-4.402 5.666l-5.3 5.626"}),n.a.createElement("g",{transform:"matrix(.28639 0 0 .38877 -29.608 -9.4724)"},n.a.createElement("path",{d:"m147.21 156.42c-2.54 0.01-5.33 0.48-8.41 1.53-33.62 19.53 11.7 51.04 30.84 78.09l0.56 0.14c21.03-29.57 61.07-62.11 30.47-78.23-24.23-8.25-30.71 19.2-30.93 20.19-0.2-0.87-5.15-21.81-22.53-21.72z",fillRule:"evenodd",transform:"matrix(1.1054,0,0,1.0796,-12.014,-18.867)"})),n.a.createElement("path",{d:"m120.07 152.69h-10.92v-5.69h18.03v5.69l-9.06 9.66c-0.81 0.89-1.41 1.75-1.79 2.6-0.39 0.84-0.58 1.72-0.58 2.63 0 1.4 0.39 2.54 1.18 3.39 0.77 0.86 1.81 1.29 3.1 1.29 1 0 2.09-0.26 3.27-0.78 1.19-0.51 2.46-1.28 3.81-2.29v6.59c-1.44 0.57-2.86 1.01-4.27 1.3-1.41 0.31-2.79 0.46-4.14 0.46-2.97 0-5.27-0.79-6.91-2.37-1.65-1.58-2.47-3.78-2.47-6.61 0-1.63 0.35-3.16 1.04-4.58 0.7-1.41 2.17-3.29 4.41-5.67l5.3-5.62"}),n.a.createElement("g",{transform:"matrix(-.28639 0 0 -.38877 168.47 198.31)"},n.a.createElement("path",{d:"m147.21 156.42c-2.54 0.01-5.33 0.48-8.41 1.53-33.62 19.53 11.7 51.04 30.84 78.09l0.56 0.14c21.03-29.57 61.07-62.11 30.47-78.23-24.23-8.25-30.71 19.2-30.93 20.19-0.2-0.87-5.15-21.81-22.53-21.72z",fillRule:"evenodd",transform:"matrix(1.1054,0,0,1.0796,-12.014,-18.867)"}))),n.a.createElement("g",{transform:"translate(333.5,184.5)"},n.a.createElement("g",{fill:"#f00",transform:"matrix(.16636 0 0 .22966 -293.81 -168.73)"},n.a.createElement("path",{d:"m147.21 156.42c-2.54 0.01-5.33 0.48-8.41 1.53-33.62 19.53 11.7 51.04 30.84 78.09l0.56 0.14c21.03-29.57 61.07-62.11 30.47-78.23-24.23-8.25-30.71 19.2-30.93 20.19-0.2-0.87-5.15-21.81-22.53-21.72z",fillRule:"evenodd",transform:"matrix(1.1054,0,0,1.0796,-12.014,-18.867)"}))),n.a.createElement("g",{fill:"#f00",transform:"matrix(-.16636 0 0 -.22966 98.306 170.45)"},n.a.createElement("path",{d:"m147.21 156.42c-2.54 0.01-5.33 0.48-8.41 1.53-33.62 19.53 11.7 51.04 30.84 78.09l0.56 0.14c21.03-29.57 61.07-62.11 30.47-78.23-24.23-8.25-30.71 19.2-30.93 20.19-0.2-0.87-5.15-21.81-22.53-21.72z",fillRule:"evenodd",transform:"matrix(1.1054,0,0,1.0796,-12.014,-18.867)"})))),Ct=function(e){var t=e.svgRef,a=e.title,r=Ot(e,["svgRef","title"]);return n.a.createElement("svg",wt({height:"36px",width:"200px",viewBox:"0 0 136.00307 24.80028",ref:t},r),a?n.a.createElement("title",null,a):null,n.a.createElement("text",{fontSize:"35.429px",fontFamily:"Saarland",xmlSpace:"preserve",transform:"scale(.99572 1.0043)","line-height":1.25,style:{wordSpacing:0,letterSpacing:0},y:24.096376,x:24.225363,fill:"#280b0b"},Dt),n.a.createElement("text",{fontSize:"35.278px",xmlSpace:"preserve",style:{wordSpacing:0,letterSpacing:0},"line-height":1.25,y:24.203451,x:82.688362,fontFamily:"Saarland",fill:"#ff0000"},xt),Rt)},Lt=n.a.forwardRef((function(e,t){return n.a.createElement(Ct,wt({svgRef:t},e))}));a.p;function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Tt(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Bt=n.a.createElement("defs",{id:"defs271"}),Yt=n.a.createElement("path",{id:"path65",d:"m 11.275,11.998 h 18.69 v 4.36 l -9.669,25.64 h -6.23 L 23.22,17.685 H 11.275 v -5.687"}),Ut=n.a.createElement("path",{id:"path69",d:"m 127.5,177 h -18.69 v -4.36 L 118.47,147 h 6.23 l -9.15,24.31 H 127.5 V 177"}),Nt=n.a.createElement("path",{id:"path93",d:"m 18.8,36.311 h 10.915 v 5.687 H 11.69 v -5.687 l 9.054,-9.665 c 0.809,-0.884 1.407,-1.748 1.794,-2.592 0.388,-0.844 0.582,-1.721 0.582,-2.632 0,-1.407 -0.393,-2.538 -1.18,-3.396 -0.775,-0.857 -1.811,-1.286 -3.106,-1.286 -0.997,0 -2.088,0.261 -3.273,0.784 -1.185,0.509 -2.453,1.272 -3.805,2.291 v -6.591 c 1.44,-0.576 2.863,-1.012 4.27,-1.306 1.407,-0.308 2.785,-0.462 4.137,-0.462 2.968,0 5.272,0.79 6.911,2.371 1.65,1.58 2.475,3.784 2.475,6.61 0,1.635 -0.349,3.162 -1.047,4.582 -0.697,1.406 -2.165,3.295 -4.402,5.666 l -5.3,5.626"}),Gt=n.a.createElement("path",{id:"path99",d:"M 120.07,152.69 H 109.15 V 147 h 18.03 v 5.69 l -9.06,9.66 c -0.81,0.89 -1.41,1.75 -1.79,2.6 -0.39,0.84 -0.58,1.72 -0.58,2.63 0,1.4 0.39,2.54 1.18,3.39 0.77,0.86 1.81,1.29 3.1,1.29 1,0 2.09,-0.26 3.27,-0.78 1.19,-0.51 2.46,-1.28 3.81,-2.29 v 6.59 c -1.44,0.57 -2.86,1.01 -4.27,1.3 -1.41,0.31 -2.79,0.46 -4.14,0.46 -2.97,0 -5.27,-0.79 -6.91,-2.37 -1.65,-1.58 -2.47,-3.78 -2.47,-6.61 0,-1.63 0.35,-3.16 1.04,-4.58 0.7,-1.41 2.17,-3.29 4.41,-5.67 l 5.3,-5.62"}),Ft=function(e){var t=e.svgRef,a=e.title,r=Tt(e,["svgRef","title"]);return n.a.createElement("svg",It({id:"svg277",viewBox:"0 0 23.248339 24.799885",height:"36px",width:"36px",ref:t},r),a?n.a.createElement("title",null,a):null,Bt,n.a.createElement("g",{transform:"translate(-95.721069,-165.91553)",id:"layer1"},n.a.createElement("g",{id:"g119",transform:"matrix(0.44859988,0,0,0.43920008,74.134978,90.636021)"},n.a.createElement("g",{id:"g83",transform:"matrix(0.24863,-0.090493,0.090493,0.24863,46.59,182.27)"},n.a.createElement("path",{style:{fillOpacity:.49803999},id:"path39",d:"m 21,5 h 103 c 8.86,0 16,7.136 16,16 v 153 c 0,8.86 -7.14,16 -16,16 H 21 C 12.136,190 5,182.86 5,174 V 21 C 5,12.136 12.136,5 21,5 Z"}),n.a.createElement("path",{style:{fill:"#e7e7e7"},id:"path41",d:"m 17,1 h 103 c 8.86,0 16,7.136 16,16 v 153 c 0,8.86 -7.14,16 -16,16 H 17 C 8.136,186 1,178.86 1,170 V 17 C 1,8.136 8.136,1 17,1 Z"}),n.a.createElement("path",{style:{fill:"#c7891f"},id:"path43",d:"m 19,3 h 103 c 8.86,0 16,7.136 16,16 v 153 c 0,8.86 -7.14,16 -16,16 H 19 C 10.136,188 3,180.86 3,172 V 19 C 3,10.136 10.136,3 19,3 Z"}),n.a.createElement("path",{style:{fill:"#ffffff"},id:"path45",d:"m 18,2 h 103 c 8.86,0 16,7.136 16,16 v 153 c 0,8.86 -7.14,16 -16,16 H 18 C 9.136,187 2,179.86 2,171 V 18 C 2,9.136 9.136,2 18,2 Z"}),n.a.createElement("g",{id:"g49",transform:"matrix(0.59314,0,0,0.23894,-103.05,9.256)"},n.a.createElement("path",{style:{fillRule:"evenodd",strokeWidth:.75889999,strokeLinejoin:"round"},id:"path47",d:"m 260.18,149.6 c -4.84,19.24 -19.68,52 -10.28,62.12 5.71,4.66 8.42,-4.88 9.57,-11.19 h 0.23 l -3.79,31.84 8.78,-0.1 c 0,0 -3.78,-30.6 -3.79,-31.77 h 0.09 c 0.93,5.16 4.46,15.83 8.34,11.77 11.34,-11.4 -5.36,-43.83 -9.15,-62.67 z"})),n.a.createElement("g",{id:"g53",transform:"matrix(-0.59314,0,0,-0.23894,207.41,177.52)"},n.a.createElement("path",{style:{fillRule:"evenodd",strokeWidth:.75889999,strokeLinejoin:"round"},id:"path51",d:"m 260.18,149.6 c -4.84,19.24 -19.68,52 -10.28,62.12 5.71,4.66 8.42,-4.88 9.57,-11.19 h 0.23 l -3.79,31.84 8.78,-0.1 c 0,0 -3.78,-30.6 -3.79,-31.77 h 0.09 c 0.93,5.16 4.46,15.83 8.34,11.77 11.34,-11.4 -5.36,-43.83 -9.15,-62.67 z"})),n.a.createElement("g",{id:"g57",transform:"matrix(0.59314,0,0,0.23894,-67.053,9.256)"},n.a.createElement("path",{style:{fillRule:"evenodd",strokeWidth:.75889999,strokeLinejoin:"round"},id:"path55",d:"m 260.18,149.6 c -4.84,19.24 -19.68,52 -10.28,62.12 5.71,4.66 8.42,-4.88 9.57,-11.19 h 0.23 l -3.79,31.84 8.78,-0.1 c 0,0 -3.78,-30.6 -3.79,-31.77 h 0.09 c 0.93,5.16 4.46,15.83 8.34,11.77 11.34,-11.4 -5.36,-43.83 -9.15,-62.67 z"})),n.a.createElement("g",{id:"g61",transform:"matrix(-0.59314,0,0,-0.23894,242.41,177.52)"},n.a.createElement("path",{style:{fillRule:"evenodd",strokeWidth:.75889999,strokeLinejoin:"round"},id:"path59",d:"m 260.18,149.6 c -4.84,19.24 -19.68,52 -10.28,62.12 5.71,4.66 8.42,-4.88 9.57,-11.19 h 0.23 l -3.79,31.84 8.78,-0.1 c 0,0 -3.78,-30.6 -3.79,-31.77 h 0.09 c 0.93,5.16 4.46,15.83 8.34,11.77 11.34,-11.4 -5.36,-43.83 -9.15,-62.67 z"})),n.a.createElement("path",{style:{fillRule:"evenodd"},id:"path63",d:"M 20.645,48.665 C 15.72,56.49 0.61,69.814 10.182,73.928 c 5.811,1.894 8.576,-1.983 9.747,-4.549 h 0.235 l -3.859,12.946 8.937,-0.038 c 0,0 -3.85,-12.445 -3.859,-12.921 h 0.094 c 0.946,2.097 4.536,6.439 8.484,4.785 11.546,-4.635 -5.455,-17.824 -9.316,-25.486 z"}),Yt,n.a.createElement("path",{style:{fillRule:"evenodd"},id:"path67",d:"m 118.13,140 c 4.92,-7.82 20.03,-21.15 10.46,-25.26 -5.81,-1.9 -8.58,1.98 -9.75,4.55 h -0.23 l 3.86,-12.95 -8.94,0.04 c 0,0 3.85,12.44 3.86,12.92 h -0.1 c -0.94,-2.1 -4.53,-6.44 -8.48,-4.79 -11.547,4.64 5.45,17.83 9.32,25.49 z"}),Ut,n.a.createElement("g",{id:"g73",transform:"matrix(0.59314,0,0,0.23894,-84.412,24.256)"},n.a.createElement("path",{style:{fillRule:"evenodd",strokeWidth:.75889999,strokeLinejoin:"round"},id:"path71",d:"m 260.18,149.6 c -4.84,19.24 -19.68,52 -10.28,62.12 5.71,4.66 8.42,-4.88 9.57,-11.19 h 0.23 l -3.79,31.84 8.78,-0.1 c 0,0 -3.78,-30.6 -3.79,-31.77 h 0.09 c 0.93,5.16 4.46,15.83 8.34,11.77 11.34,-11.4 -5.36,-43.83 -9.15,-62.67 z"})),n.a.createElement("g",{id:"g77",transform:"matrix(-0.59314,0,0,-0.23894,224.41,162.52)"},n.a.createElement("path",{style:{fillRule:"evenodd",strokeWidth:.75889999,strokeLinejoin:"round"},id:"path75",d:"m 260.18,149.6 c -4.84,19.24 -19.68,52 -10.28,62.12 5.71,4.66 8.42,-4.88 9.57,-11.19 h 0.23 l -3.79,31.84 8.78,-0.1 c 0,0 -3.78,-30.6 -3.79,-31.77 h 0.09 c 0.93,5.16 4.46,15.83 8.34,11.77 11.34,-11.4 -5.36,-43.83 -9.15,-62.67 z"})),n.a.createElement("g",{id:"g81",transform:"matrix(0.59314,0,0,0.23894,-84.053,47.256)"},n.a.createElement("path",{style:{fillRule:"evenodd",strokeWidth:.75889999,strokeLinejoin:"round"},id:"path79",d:"m 260.18,149.6 c -4.84,19.24 -19.68,52 -10.28,62.12 5.71,4.66 8.42,-4.88 9.57,-11.19 h 0.23 l -3.79,31.84 8.78,-0.1 c 0,0 -3.78,-30.6 -3.79,-31.77 h 0.09 c 0.93,5.16 4.46,15.83 8.34,11.77 11.34,-11.4 -5.36,-43.83 -9.15,-62.67 z"}))),n.a.createElement("g",{id:"g117",transform:"matrix(0.26281,-0.030567,0.030567,0.26281,57.802,178.42)"},n.a.createElement("path",{style:{fillOpacity:.49803999},id:"path85",d:"m 21,5 h 103 c 8.86,0 16,7.136 16,16 v 153 c 0,8.86 -7.14,16 -16,16 H 21 C 12.136,190 5,182.86 5,174 V 21 C 5,12.136 12.136,5 21,5 Z"}),n.a.createElement("path",{style:{fill:"#e7e7e7"},id:"path87",d:"m 17,1 h 103 c 8.86,0 16,7.136 16,16 v 153 c 0,8.86 -7.14,16 -16,16 H 17 C 8.136,186 1,178.86 1,170 V 17 C 1,8.136 8.136,1 17,1 Z"}),n.a.createElement("path",{style:{fill:"#c7891f"},id:"path89",d:"m 19,3 h 103 c 8.86,0 16,7.136 16,16 v 153 c 0,8.86 -7.14,16 -16,16 H 19 C 10.136,188 3,180.86 3,172 V 19 C 3,10.136 10.136,3 19,3 Z"}),n.a.createElement("path",{style:{fill:"#ffffff"},id:"path91",d:"m 18,2 h 103 c 8.86,0 16,7.136 16,16 v 153 c 0,8.86 -7.14,16 -16,16 H 18 C 9.136,187 2,179.86 2,171 V 18 C 2,9.136 9.136,2 18,2 Z"}),n.a.createElement("g",{style:{fill:"#ff0000"},id:"g105"},Nt,n.a.createElement("g",{id:"g97",transform:"matrix(0.28639,0,0,0.38877,-29.608,-9.4724)"},n.a.createElement("path",{style:{fillRule:"evenodd"},id:"path95",d:"m 147.21,156.42 c -2.54,0.01 -5.33,0.48 -8.41,1.53 -33.62,19.53 11.7,51.04 30.84,78.09 l 0.56,0.14 c 21.03,-29.57 61.07,-62.11 30.47,-78.23 -24.23,-8.25 -30.71,19.2 -30.93,20.19 -0.2,-0.87 -5.15,-21.81 -22.53,-21.72 z",transform:"matrix(1.1054,0,0,1.0796,-12.014,-18.867)"})),Gt,n.a.createElement("g",{id:"g103",transform:"matrix(-0.28639,0,0,-0.38877,168.47,198.31)"},n.a.createElement("path",{style:{fillRule:"evenodd"},id:"path101",d:"m 147.21,156.42 c -2.54,0.01 -5.33,0.48 -8.41,1.53 -33.62,19.53 11.7,51.04 30.84,78.09 l 0.56,0.14 c 21.03,-29.57 61.07,-62.11 30.47,-78.23 -24.23,-8.25 -30.71,19.2 -30.93,20.19 -0.2,-0.87 -5.15,-21.81 -22.53,-21.72 z",transform:"matrix(1.1054,0,0,1.0796,-12.014,-18.867)"}))),n.a.createElement("g",{id:"g111",transform:"translate(333.5,184.5)"},n.a.createElement("g",{style:{fill:"#ff0000"},id:"g109",transform:"matrix(0.16636,0,0,0.22966,-293.81,-168.73)"},n.a.createElement("path",{style:{fillRule:"evenodd"},id:"path107",d:"m 147.21,156.42 c -2.54,0.01 -5.33,0.48 -8.41,1.53 -33.62,19.53 11.7,51.04 30.84,78.09 l 0.56,0.14 c 21.03,-29.57 61.07,-62.11 30.47,-78.23 -24.23,-8.25 -30.71,19.2 -30.93,20.19 -0.2,-0.87 -5.15,-21.81 -22.53,-21.72 z",transform:"matrix(1.1054,0,0,1.0796,-12.014,-18.867)"}))),n.a.createElement("g",{style:{fill:"#ff0000"},id:"g115",transform:"matrix(-0.16636,0,0,-0.22966,98.306,170.45)"},n.a.createElement("path",{style:{fillRule:"evenodd"},id:"path113",d:"m 147.21,156.42 c -2.54,0.01 -5.33,0.48 -8.41,1.53 -33.62,19.53 11.7,51.04 30.84,78.09 l 0.56,0.14 c 21.03,-29.57 61.07,-62.11 30.47,-78.23 -24.23,-8.25 -30.71,19.2 -30.93,20.19 -0.2,-0.87 -5.15,-21.81 -22.53,-21.72 z",transform:"matrix(1.1054,0,0,1.0796,-12.014,-18.867)"}))))))},Mt=n.a.forwardRef((function(e,t){return n.a.createElement(Ft,It({svgRef:t},e))})),zt=(a.p,a(491),a(492),h.a.Header),Vt=h.a.Content,At=h.a.Footer,Wt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).updateProfile=r.updateProfile.bind(Object(c.a)(r)),r.state={error:null,isLoaded:!1,profileData:{}},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new H("/players/active_player/").retrieve({onRes:function(e){return 404===e.status?(window.location.href="/accounts/login/",Promise.reject(new Error("Unauthenticated"))):200!==e.status?Promise.reject(new Error("Unable to retrieve player.")):e},onParse:function(t){e.setState({isLoaded:!0,profileData:t})},onError:function(t){e.setState({isLoaded:!0,error:t})}})}},{key:"updateProfile",value:function(e){this.setState({profileData:e})}},{key:"render",value:function(){return this.state.error?n.a.createElement(f.a,{status:"500",title:"500",subTitle:"Sorry, something went wrong."}):this.state.isLoaded?n.a.createElement(p.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(h.a,{className:"layout"},n.a.createElement(zt,null,n.a.createElement(E.a,null,n.a.createElement(g.a,{xxl:4,xl:5,lg:6,md:7,sm:3,xs:4,style:{textAlign:"center"}},n.a.createElement(p.b,{to:"/"},n.a.createElement(Lt,{className:"main-logo"}),n.a.createElement(Mt,{className:"main-icon"}))),n.a.createElement(g.a,{xxl:19,xl:18,lg:17,md:16,sm:20,xs:17},n.a.createElement(d.c,null,n.a.createElement(d.a,{path:"/games"},n.a.createElement(v,{selected:"/games"})),n.a.createElement(d.a,{path:"/payments"},n.a.createElement(v,{selected:"/payments"})),n.a.createElement(d.a,{path:"/players"},n.a.createElement(v,{selected:"/players"})),n.a.createElement(d.a,{path:"/schedule"},n.a.createElement(v,{selected:"/schedule"})),n.a.createElement(d.a,{path:"/leaderboards"},n.a.createElement(v,{selected:"/leaderboards"})),n.a.createElement(d.a,{path:"/"},n.a.createElement(v,{selected:"/"})))),n.a.createElement(g.a,{xxl:1,xl:1,lg:1,md:1,sm:1,xs:3},n.a.createElement(S,{profileData:this.state.profileData})))),n.a.createElement(Vt,{className:"site-content"},n.a.createElement(_t,{profileData:this.state.profileData,updateProfile:this.updateProfile})),n.a.createElement(At,{style:{textAlign:"center"}},"Copyright \xa9 2020 Michael Simm. All Rights Reserverd")))):n.a.createElement(y.a,null)}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(Wt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[263,1,2]]]);
//# sourceMappingURL=main.060ef79b.chunk.js.map